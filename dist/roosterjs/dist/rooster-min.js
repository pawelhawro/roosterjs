var roosterjs=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=82)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(22);t.NodeBlockElement=o.default;var r=n(9);t.getBlockElementAtNode=r.default;var i=n(38);t.getFirstLastBlockElement=i.default;var a=n(36);t.StartEndBlockElement=a.default;var s=n(26);t.ContentTraverser=s.default;var l=n(88);t.PositionContentSearcher=l.default;var u=n(11);t.getInlineElementAtNode=u.default;var c=n(39);t.ImageInlineElement=c.default;var d=n(40);t.LinkInlineElement=d.default;var f=n(19);t.NodeInlineElement=f.default;var p=n(20);t.PartialInlineElement=p.default;var h=n(27);t.applyTextStyle=h.default;var v=n(44);t.Browser=v.Browser,t.getBrowserInfo=v.getBrowserInfo;var g=n(89);t.applyFormat=g.default;var m=n(45);t.changeElementTag=m.default;var y=n(23);t.collapseNodes=y.default;var E=n(5);t.contains=E.default;var w=n(90);t.extractClipboardEvent=w.default;var b=n(18);t.findClosestElementAncestor=b.default;var C=n(37);t.fromHtml=C.default;var S=n(30);t.getComputedStyles=S.default,t.getComputedStyle=S.getComputedStyle;var O=n(91);t.getPendableFormatState=O.default,t.PendableFormatCommandMap=O.PendableFormatCommandMap;var _=n(6);t.getTagOfNode=_.default;var P=n(24);t.isBlockElement=P.default;var L=n(32);t.isNodeEmpty=L.default;var T=n(25);t.isVoidHtmlElement=T.default;var N=n(92);t.matchLink=N.default;var x=n(93);t.adjustNodeInsertPosition=x.default;var D=n(47);t.queryElements=D.default;var M=n(14);t.splitParentNode=M.default,t.splitBalancedNodeRange=M.splitBalancedNodeRange;var H=n(48);t.unwrap=H.default;var k=n(17);t.wrap=k.default;var A=n(12);t.getNextLeafSibling=A.getNextLeafSibling,t.getPreviousLeafSibling=A.getPreviousLeafSibling;var I=n(42);t.getFirstLeafNode=I.getFirstLeafNode,t.getLastLeafNode=I.getLastLeafNode;var B=n(94);t.getTextContent=B.default;var R=n(28);t.splitTextNode=R.default;var j=n(49);t.VTable=j.default;var F=n(7);t.Position=F.default;var V=n(10);t.createRange=V.default,t.getRangeFromSelectionPath=V.getRangeFromSelectionPath;var U=n(95);t.getPositionRect=U.default;var z=n(46);t.isPositionAtBeginningOf=z.default;var W=n(96);t.getSelectionPath=W.default;var G=n(97);t.addSnapshot=G.default;var Z=n(33);t.canMoveCurrentSnapshot=Z.default;var K=n(50);t.clearProceedingSnapshots=K.default;var q=n(98);t.moveCurrentSnapsnot=q.default;var Y=n(99);t.createSnapshots=Y.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(102);t.changeFontSize=o.default,t.FONT_SIZES=o.FONT_SIZES;var r=n(103);t.clearBlockFormat=r.default,t.TAGS_TO_UNWRAP=r.TAGS_TO_UNWRAP,t.TAGS_TO_STOP_UNWRAP=r.TAGS_TO_STOP_UNWRAP,t.ATTRIBUTES_TO_PRESERVE=r.ATTRIBUTES_TO_PRESERVE;var i=n(104);t.clearFormat=i.default;var a=n(105);t.createLink=a.default;var s=n(106);t.getFormatState=s.default,t.getElementBasedFormatState=s.getElementBasedFormatState,t.getStyleBasedFormatState=s.getStyleBasedFormatState;var l=n(122);t.insertImage=l.default;var u=n(123);t.insertTable=u.default;var c=n(124);t.editTable=c.default;var d=n(125);t.formatTable=d.default;var f=n(126);t.removeLink=f.default;var p=n(127);t.replaceWithNode=p.default;var h=n(128);t.setAlignment=h.default;var v=n(53);t.setBackgroundColor=v.default;var g=n(56);t.setTextColor=g.default;var m=n(129);t.setDirection=m.default;var y=n(54);t.setFontName=y.default;var E=n(55);t.setFontSize=E.default;var w=n(130);t.setImageAltText=w.default;var b=n(131);t.setIndentation=b.default;var C=n(57);t.toggleBold=C.default;var S=n(132);t.toggleBullet=S.default;var O=n(58);t.toggleItalic=O.default;var _=n(133);t.toggleNumbering=_.default;var P=n(134);t.toggleBlockQuote=P.default;var L=n(135);t.toggleCodeBlock=L.default;var T=n(136);t.toggleStrikethrough=T.default;var N=n(137);t.toggleSubscript=N.default;var x=n(138);t.toggleSuperscript=x.default;var D=n(59);t.toggleUnderline=D.default;var M=n(139);t.toggleHeader=M.default;var H=n(140);t.setJustifyFull=H.default;var k=n(0);t.getPendableFormatState=k.getPendableFormatState},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={bold:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M3,14l0,-13l4.217,0c1.286,0 2.304,0.275 3.054,0.825c0.751,0.55 1.127,1.266 1.127,2.149c0,0.737 -0.214,1.377 -0.64,1.921c-0.426,0.544 -1.016,0.931 -1.77,1.161l0,0.036c0.914,0.103 1.645,0.434 2.192,0.993c0.547,0.559 0.82,1.286 0.82,2.18c0,1.112 -0.448,2.013 -1.344,2.702c-0.896,0.689 -2.027,1.033 -3.392,1.033l-4.264,0Zm2.197,-11.268l0,3.698l1.427,0c0.766,0 1.367,-0.177 1.803,-0.53c0.436,-0.354 0.653,-0.854 0.653,-1.5c0,-1.112 -0.76,-1.668 -2.28,-1.668l-1.603,0Zm0,5.43l0,4.116l1.881,0c0.822,0 1.457,-0.186 1.905,-0.558c0.448,-0.372 0.672,-0.884 0.672,-1.537c0,-1.347 -0.955,-2.021 -2.864,-2.021l-1.594,0Z" style="fill:#666" /></svg>',italic:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 6,1 V 2 H 6.5 H 11.5 H 12 V 1 H 11.5 H 6.5 Z M 4,13 V 14 H 4.5 H 9.5 H 10 V 13 H 9.5 H 4.5 Z M 8.5976562,1.4179688 L 8.5078125,1.9101562 L 6.5078125,12.910156 L 6.4179688,13.402344 L 7.4023438,13.582031 L 7.4921875,13.089844 L 9.4921875,2.0898438 L 9.5820312,1.5976562 Z" style="fill:#666666" /></svg>',underline:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 3,1 V 1.5 V 8.7714844 C 3,10.000201 3.5781679,11.15746 4.5605469,11.894531 A 0.50005,0.50005 0 0 0 4.5625,11.894531 C 4.6601893,11.967552 4.7609913,12.045118 4.8652344,12.123047 C 6.4251553,13.29186 8.5748447,13.29186 10.134766,12.123047 A 0.50005,0.50005 0 0 0 10.136719,12.121094 C 10.234295,12.047413 10.329739,11.974616 10.423828,11.904297 A 0.50005,0.50005 0 0 0 10.425781,11.904297 C 11.417529,11.161058 12,9.9927146 12,8.7539062 V 1.5 V 1 H 11 V 1.5 V 8.7539062 C 11,9.6790979 10.564471,10.548754 9.8242188,11.103516 C 9.7287034,11.174905 9.6312052,11.248264 9.5332031,11.322266 C 8.3252608,12.226279 6.672401,12.227061 5.4648438,11.322266 C 5.3630868,11.246195 5.260467,11.16873 5.1601562,11.09375 C 4.4285352,10.544821 4,9.686768 4,8.7714844 V 1.5 V 1 Z M 2,14 V 15 H 2.5 H 12.5 H 13 V 14 H 12.5 H 2.5 Z" style="fill:#666666" /></svg>',fontSize:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 4.9785156,5 A 0.50005,0.50005 0 0 0 4.5410156,5.2988281 L 1.0410156,13.298828 L 0.84179688,13.757812 L 1.7578125,14.158203 L 1.9589844,13.701172 L 5,6.75 L 8.0410156,13.701172 L 8.2421875,14.158203 L 9.1582031,13.757812 L 8.9589844,13.298828 L 5.4589844,5.2988281 A 0.50005,0.50005 0 0 0 4.9785156,5 Z M 2.8125,10 V 11 H 7.1875 V 10 Z" style="fill:#666666" /> <path d="M 10.349609,5.6425781 L 9.6503906,6.3574219 L 12.576172,9.2070312 L 15.357422,6.3496094 L 14.642578,5.6503906 L 12.556641,7.7929688 Z M 12.423828,0.79296875 L 9.6425781,3.6503906 L 10.357422,4.3496094 L 12.443359,2.2070312 L 14.650391,4.3574219 L 15.349609,3.6425781 Z" style="fill:#3a85f0" /></svg>',textLeft:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 2,1 V 2 H 2.5 H 13.5 H 14 V 1 H 13.5 H 2.5 Z M 2,4 V 5 H 2.5 H 9.5 H 10 V 4 H 9.5 H 2.5 Z M 2,7 V 8 H 2.5 H 13.5 H 14 V 7 H 13.5 H 2.5 Z M 2,10 V 11 H 2.5 H 9.5 H 10 V 10 H 9.5 H 2.5 Z M 2,13 V 14 H 2.5 H 13.5 H 14 V 13 H 13.5 H 2.5 Z" style="fill:#666666" /></svg>',textCenter:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 2,1 V 2 H 2.5 H 13.5 H 14 V 1 H 13.5 H 2.5 Z M 4,4 V 5 H 4.5 H 11.5 H 12 V 4 H 11.5 H 4.5 Z M 2,7 V 8 H 2.5 H 13.5 H 14 V 7 H 13.5 H 2.5 Z M 4,10 V 11 H 4.5 H 11.5 H 12 V 10 H 11.5 H 4.5 Z M 2,13 V 14 H 2.5 H 13.5 H 14 V 13 H 13.5 H 2.5 Z" style="fill:#666666" /></svg>',textRight:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 2,1 V 2 H 2.5 H 13.5 H 14 V 1 H 13.5 H 2.5 Z M 6,4 V 5 H 6.5 H 13.5 H 14 V 4 H 13.5 H 6.5 Z M 2,7 V 8 H 2.5 H 13.5 H 14 V 7 H 13.5 H 2.5 Z M 6,10 V 11 H 6.5 H 13.5 H 14 V 10 H 13.5 H 6.5 Z M 2,13 V 14 H 2.5 H 13.5 H 14 V 13 H 13.5 H 2.5 Z" style="fill:#666666" /></svg>',textJustify:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 2,1 V 2 H 2.5 H 13.5 H 14 V 1 H 13.5 H 2.5 Z M 2,4 V 5 H 2.5 H 13.5 H 14 V 4 H 13.5 H 2.5 Z M 2,7 V 8 H 2.5 H 13.5 H 14 V 7 H 13.5 H 2.5 Z M 2,10 V 11 H 2.5 H 13.5 H 14 V 10 H 13.5 H 2.5 Z M 2,13 V 14 H 2.5 H 13.5 H 14 V 13 H 13.5 H 2.5 Z" style="fill:#666666" /></svg>',numList:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 6,2 V 3 H 6.5 H 14.5 H 15 V 2 H 14.5 H 6.5 Z M 6,7 V 8 H 6.5 H 14.5 H 15 V 7 H 14.5 H 6.5 Z M 6,12 V 13 H 6.5 H 14.5 H 15 V 12 H 14.5 H 6.5 Z" style="fill:#666666" /> <path d="M1.673,3.507l0.667,0l0,-1.622l0.076,-0.291l-0.232,0.253l-0.435,0.27l-0.249,-0.346l1.089,-0.771l0.351,0l0,2.507l0.653,0l0,0.493l-1.92,0l0,-0.493Z M3.487,6.779c0,0.141 -0.03,0.283 -0.089,0.426c-0.059,0.143 -0.134,0.283 -0.225,0.419c-0.09,0.137 -0.191,0.269 -0.302,0.398c-0.111,0.13 -0.22,0.249 -0.326,0.359l-0.254,0.172l0,0.021l0.342,-0.067l0.92,0l0,0.493l-2.031,0l0,-0.295c0.077,-0.073 0.164,-0.155 0.26,-0.246c0.097,-0.092 0.194,-0.189 0.291,-0.293c0.098,-0.104 0.194,-0.212 0.287,-0.323c0.093,-0.111 0.176,-0.221 0.247,-0.33c0.071,-0.11 0.129,-0.217 0.173,-0.323c0.045,-0.105 0.067,-0.203 0.067,-0.293c0,-0.106 -0.034,-0.197 -0.102,-0.271c-0.069,-0.075 -0.186,-0.112 -0.352,-0.112c-0.103,0 -0.209,0.02 -0.315,0.061c-0.107,0.041 -0.199,0.094 -0.276,0.158l-0.258,-0.421c0.128,-0.09 0.27,-0.166 0.427,-0.228c0.157,-0.062 0.345,-0.092 0.565,-0.092c0.136,0 0.263,0.016 0.38,0.05c0.117,0.034 0.217,0.083 0.302,0.148c0.084,0.064 0.15,0.146 0.198,0.246c0.047,0.1 0.071,0.214 0.071,0.343Z M2.362,13.566c0.101,0 0.189,-0.012 0.265,-0.036c0.075,-0.024 0.138,-0.057 0.189,-0.099c0.05,-0.042 0.089,-0.09 0.115,-0.145c0.027,-0.055 0.04,-0.112 0.04,-0.171c0,-0.152 -0.054,-0.264 -0.162,-0.337c-0.108,-0.073 -0.282,-0.109 -0.522,-0.109l-0.351,0l0,-0.312l0.573,-0.666l0.28,-0.194l-0.382,0.047l-0.805,0l0,-0.493l1.849,0l0,0.316l-0.666,0.775l-0.218,0.114l0,0.021l0.204,-0.026c0.11,0.009 0.214,0.033 0.314,0.072c0.099,0.039 0.186,0.093 0.262,0.16c0.075,0.068 0.135,0.151 0.18,0.251c0.044,0.1 0.066,0.215 0.066,0.347c0,0.166 -0.031,0.31 -0.095,0.432c-0.064,0.123 -0.15,0.224 -0.26,0.306c-0.11,0.081 -0.239,0.142 -0.387,0.181c-0.148,0.039 -0.308,0.059 -0.48,0.059c-0.071,0 -0.144,-0.003 -0.218,-0.008c-0.074,-0.006 -0.146,-0.015 -0.217,-0.028c-0.072,-0.012 -0.139,-0.027 -0.203,-0.042c-0.063,-0.015 -0.119,-0.034 -0.166,-0.057l0.169,-0.489c0.083,0.037 0.176,0.068 0.28,0.093c0.103,0.025 0.219,0.038 0.346,0.038Z" style="fill:#3a85f0" /></svg>',bulletList:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 6,2 V 3 H 6.5 H 14.5 H 15 V 2 H 14.5 H 6.5 Z M 6,7 V 8 H 6.5 H 14.5 H 15 V 7 H 14.5 H 6.5 Z M 6,12 V 13 H 6.5 H 14.5 H 15 V 12 H 14.5 H 6.5 Z" style="fill:#666666" /> <path d="M 1.5,1.5 H 3.5 V 3.5 H 1.5 Z M 1.5,6.5 H 3.5 V 8.5 H 1.5 Z M 1.5,11.5 H 3.5 V 13.5 H 1.5 Z" style="fill:#3a85f0" /></svg>',incIndent:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 7,1 V 2 H 7.5 H 14.5 H 15 V 1 H 14.5 H 7.5 Z M 7,4 V 5 H 7.5 H 11.955078 H 12.455078 V 4 H 11.955078 H 7.5 Z M 7,7 V 8 H 7.5 H 14.5 H 15 V 7 H 14.5 H 7.5 Z M 7,10 V 11 H 7.5 H 11.955078 H 12.455078 V 10 H 11.955078 H 7.5 Z M 7,13 V 14 H 7.5 H 14.5 H 15 V 13 H 14.5 H 7.5 Z" style="fill:#666666" /> <path d="M 3.0996094,4.6425781 L 2.4003906,5.3574219 L 4.5429688,7.4433594 L 2.3925781,9.6503906 L 3.1074219,10.349609 L 5.9570312,7.4238281 Z M 1,7 V 8 H 1.5 H 4.5 H 5 V 7 H 4.5 H 1.5 Z" style="fill:#3a85f0" /></svg>',decIndent:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 7,1 V 2 H 7.5 H 14.5 H 15 V 1 H 14.5 H 7.5 Z M 7,4 V 5 H 7.5 H 11.955078 H 12.455078 V 4 H 11.955078 H 7.5 Z M 7,7 V 8 H 7.5 H 14.5 H 15 V 7 H 14.5 H 7.5 Z M 7,10 V 11 H 7.5 H 11.955078 H 12.455078 V 10 H 11.955078 H 7.5 Z M 7,13 V 14 H 7.5 H 14.5 H 15 V 13 H 14.5 H 7.5 Z" style="fill:#666666" /> <path d="M 3.9003906,4.6425781 L 1.0429688,7.4238281 L 3.8925781,10.349609 L 4.6074219,9.6503906 L 2.4570312,7.4433594 L 4.5996094,5.3574219 Z M 2,7 V 8 H 2.5 H 5.5 H 6 V 7 H 5.5 H 2.5 Z" style="fill:#3a85f0" /></svg>',pageBreak:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 1,1 V 5.5 A 0.50005,0.50005 0 0 0 1.5,6 H 13.5 A 0.50005,0.50005 0 0 0 14,5.5 V 1 H 13 V 5 H 2 V 1 Z M 1.5,9 A 0.50005,0.50005 0 0 0 1,9.5 V 15 H 2 V 10 H 13 V 15 H 14 V 9.5 A 0.50005,0.50005 0 0 0 13.5,9 Z" style="fill:#666666" /> <path d="M 2,7 V 8 H 2.5 H 4.5 H 5 V 7 H 4.5 H 2.5 Z M 10,7 V 8 H 10.5 H 12.5 H 13 V 7 H 12.5 H 10.5 Z M 6,7 V 8 H 6.5 H 8.5 H 9 V 7 H 8.5 H 6.5 Z" style="fill:#3a85f0" /> <path d="M 2,1 H 13 V 5 H 2 Z M 2,10 H 13 V 15 H 2 Z" style="fill:#ffffff" /></svg>',mergeField:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 1,1 V 2 H 1.5 H 14.5 H 15 V 1 H 14.5 H 1.5 Z M 1,5 V 6 H 1.5 H 4.5 H 5 V 5 H 4.5 H 1.5 Z M 1,10 V 11 H 1.5 H 14.5 H 15 V 10 H 14.5 H 1.5 Z M 1,14 V 15 H 1.5 H 14.5 H 15 V 14 H 14.5 H 1.5 Z" style="fill:#666666" /> <path d="M 6.5,4 A 0.50005,0.50005 0 0 0 6,4.5 V 7.5 A 0.50005,0.50005 0 0 0 6.5,8 H 14.5 A 0.50005,0.50005 0 0 0 15,7.5 V 4.5 A 0.50005,0.50005 0 0 0 14.5,4 Z M 7,5 H 14 V 7 H 7 Z" style="fill:#3a85f0" /> <path d="M 7,5 H 14 V 7 H 7 Z" style="fill:#ffffff" /></svg>',undo:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 3,2 V 2.5 V 7 H 7.5 H 8 V 6 H 7.5 H 4 V 2.5 V 2 Z M 8.5,3 C 6.328033,3 4.4431549,4.2642466 3.5507812,6.0996094 L 3.3320312,6.5507812 L 4.2304688,6.9863281 L 4.4492188,6.5371094 C 5.1788451,5.0364722 6.715967,4 8.5,4 C 10.989469,4 13,6.0105314 13,8.5 C 13,10.989469 10.989469,13 8.5,13 H 8 V 14 H 8.5 C 11.530531,14 14,11.530531 14,8.5 C 14,5.4694686 11.530531,3 8.5,3 Z" style="fill:#666666" /></svg>',redo:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 13,2 V 2.5 V 6 H 9.5 H 9 V 7 H 9.5 H 14 V 2.5 V 2 Z M 8.5,3 C 5.4694686,3 3,5.4694686 3,8.5 C 3,11.530531 5.4694686,14 8.5,14 H 9 V 13 H 8.5 C 6.0105314,13 4,10.989469 4,8.5 C 4,6.0105314 6.0105314,4 8.5,4 C 10.284033,4 11.821155,5.0364722 12.550781,6.5371094 L 12.769531,6.9863281 L 13.667969,6.5507812 L 13.449219,6.0996094 C 12.556845,4.2642466 10.671967,3 8.5,3 Z" style="fill:#666666" /></svg>',clearStyle:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 5.1464844,1 A 0.50005,0.50005 0 0 0 4.7089844,1.2988281 L 1.2089844,9.2988281 L 1.0078125,9.7578125 L 1.9238281,10.158203 L 2.125,9.7011719 L 5.1679688,2.7480469 L 7.2558594,7.5195312 L 7.4550781,7.9765625 L 8.3710938,7.5761719 L 8.171875,7.1191406 L 5.625,1.2988281 A 0.50005,0.50005 0 0 0 5.1464844,1 Z M 2.9785156,6 V 7 H 7.3535156 V 6 Z" style="fill:#3a85f0" /> <path d="M 10.302734,6.5 A 0.50005,0.50005 0 0 0 9.9589844,6.6542969 L 4.4277344,12.433594 A 0.50005,0.50005 0 0 0 4.4433594,13.140625 L 6.21875,14.839844 A 0.50005,0.50005 0 0 0 6.5644531,14.978516 H 7.7109375 H 8.6992188 A 0.50005,0.50005 0 0 0 9.0605469,14.824219 L 13.572266,10.111328 A 0.50005,0.50005 0 0 0 13.556641,9.4042969 L 10.666016,6.6386719 A 0.50005,0.50005 0 0 0 10.302734,6.5 Z M 10.335938,7.7070312 L 12.503906,9.78125 L 8.4863281,13.978516 H 7.7109375 H 6.765625 L 5.4960938,12.763672 Z M 7.0917969,10.384766 L 6.3886719,11.095703 C 6.4372413,11.143727 9.1484375,13.853516 9.1484375,13.853516 L 9.8554688,13.146484 C 9.8554688,13.146484 7.2212274,10.512742 7.0917969,10.384766 Z M 6.4726562,10.886719 L 5.765625,11.59375 L 8.5273438,14.353516 L 9.234375,13.646484 Z M 5.8515625,11.384766 L 5.1484375,12.095703 C 5.1956754,12.14241 7.90625,14.853516 7.90625,14.853516 L 8.6132812,14.146484 C 8.6132812,14.146484 5.9823246,11.514058 5.8515625,11.384766 Z M 5.4863281,11.779297 L 4.7539062,12.460938 C 4.8476048,12.561235 6.9746094,14.822266 6.9746094,14.822266 L 7.703125,14.136719 C 7.703125,14.136719 5.5346296,11.831 5.4863281,11.779297 Z M 10.5,13.978516 V 14.978516 H 15 V 13.978516 Z" style="fill:#666666" /></svg>',superscript:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M11.44,6.832l2.859,0l0,1.168l-4.487,0l0,-0.481c0,-0.327 0.058,-0.621 0.174,-0.881c0.116,-0.26 0.262,-0.493 0.438,-0.7c0.175,-0.206 0.367,-0.389 0.576,-0.548c0.208,-0.159 0.407,-0.303 0.595,-0.43c0.197,-0.134 0.371,-0.262 0.519,-0.384c0.149,-0.122 0.275,-0.243 0.377,-0.363c0.102,-0.121 0.178,-0.242 0.228,-0.366c0.05,-0.123 0.075,-0.255 0.075,-0.394c0,-0.274 -0.081,-0.48 -0.245,-0.62c-0.163,-0.14 -0.412,-0.21 -0.747,-0.21c-0.58,0 -1.135,0.219 -1.665,0.656l0,-1.24c0.586,-0.359 1.248,-0.539 1.985,-0.539c0.341,0 0.648,0.042 0.919,0.127c0.271,0.085 0.501,0.206 0.689,0.363c0.188,0.158 0.331,0.349 0.43,0.573c0.099,0.225 0.148,0.475 0.148,0.751c0,0.295 -0.047,0.556 -0.143,0.785c-0.096,0.229 -0.223,0.437 -0.381,0.624c-0.158,0.187 -0.341,0.359 -0.548,0.515c-0.207,0.156 -0.422,0.307 -0.644,0.453c-0.151,0.101 -0.296,0.201 -0.435,0.301c-0.14,0.099 -0.263,0.197 -0.369,0.294c-0.107,0.096 -0.192,0.191 -0.254,0.283c-0.063,0.092 -0.094,0.18 -0.094,0.263Z" style="fill:#3a85f0" /> <path d="M 2.6660156,6.9589844 L 1.9589844,7.6660156 L 8.6464844,14.353516 L 9.3535156,13.646484 Z M 8.6464844,6.9589844 L 1.9589844,13.646484 L 2.6660156,14.353516 L 9.3535156,7.6660156 Z" style="fill:#666666" /></svg>',subscript:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M11.44,12.832l2.859,0l0,1.168l-4.487,0l0,-0.481c0,-0.327 0.058,-0.621 0.174,-0.881c0.116,-0.26 0.262,-0.493 0.438,-0.7c0.175,-0.206 0.367,-0.389 0.576,-0.548c0.208,-0.159 0.407,-0.303 0.595,-0.43c0.197,-0.134 0.371,-0.262 0.519,-0.384c0.149,-0.122 0.275,-0.243 0.377,-0.363c0.102,-0.121 0.178,-0.242 0.228,-0.366c0.05,-0.123 0.075,-0.255 0.075,-0.394c0,-0.274 -0.081,-0.48 -0.245,-0.62c-0.163,-0.14 -0.412,-0.21 -0.747,-0.21c-0.58,0 -1.135,0.219 -1.665,0.656l0,-1.24c0.586,-0.359 1.248,-0.539 1.985,-0.539c0.341,0 0.648,0.042 0.919,0.127c0.271,0.085 0.501,0.206 0.689,0.363c0.188,0.158 0.331,0.349 0.43,0.573c0.099,0.225 0.148,0.475 0.148,0.751c0,0.295 -0.047,0.556 -0.143,0.785c-0.096,0.229 -0.223,0.437 -0.381,0.624c-0.158,0.187 -0.341,0.359 -0.548,0.515c-0.207,0.156 -0.422,0.307 -0.644,0.453c-0.151,0.101 -0.296,0.201 -0.435,0.301c-0.14,0.099 -0.263,0.197 -0.369,0.294c-0.107,0.096 -0.192,0.191 -0.254,0.283c-0.063,0.092 -0.094,0.18 -0.094,0.263Z" style="fill:#3a85f0" /> <path d="M 2.6660156,1.9589844 L 1.9589844,2.6660156 L 8.6464844,9.3535156 L 9.3535156,8.6464844 Z M 8.6464844,1.9589844 L 1.9589844,8.6464844 L 2.6660156,9.3535156 L 9.3535156,2.6660156 Z" style="fill:#666666" /></svg>',strike:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 2,7 V 8 H 14 V 7 Z" style="fill:#3a85f0" /> <path d="M11.68,9c0.024,0.043 0.046,0.087 0.068,0.132c0.168,0.342 0.252,0.732 0.252,1.17c0,0.588 -0.125,1.085 -0.376,1.489c-0.25,0.405 -0.588,0.735 -1.012,0.988c-0.424,0.254 -0.913,0.438 -1.465,0.551c-0.552,0.113 -1.136,0.17 -1.751,0.17c-0.205,0 -0.457,-0.015 -0.756,-0.045c-0.299,-0.029 -0.605,-0.072 -0.918,-0.129c-0.313,-0.057 -0.609,-0.126 -0.888,-0.207c-0.279,-0.081 -0.504,-0.172 -0.675,-0.275l0,-1.984c0.188,0.162 0.411,0.308 0.67,0.438c0.259,0.129 0.534,0.238 0.825,0.328c0.29,0.089 0.58,0.157 0.871,0.206c0.29,0.049 0.558,0.073 0.803,0.073c0.854,0 1.49,-0.135 1.909,-0.405c0.418,-0.27 0.628,-0.661 0.628,-1.174c0,-0.275 -0.07,-0.514 -0.21,-0.717c-0.139,-0.202 -0.334,-0.387 -0.585,-0.554c-0.027,-0.019 -0.055,-0.037 -0.084,-0.055l2.694,0Zm-7.228,-3c-0.027,-0.05 -0.052,-0.1 -0.075,-0.152c-0.151,-0.329 -0.227,-0.715 -0.227,-1.158c0,-0.545 0.13,-1.019 0.389,-1.421c0.259,-0.402 0.601,-0.734 1.025,-0.996c0.424,-0.262 0.907,-0.456 1.448,-0.583c0.541,-0.127 1.093,-0.19 1.657,-0.19c1.281,0 2.215,0.138 2.801,0.413l0,1.903c-0.694,-0.475 -1.588,-0.713 -2.682,-0.713c-0.301,0 -0.602,0.027 -0.901,0.081c-0.299,0.054 -0.566,0.143 -0.803,0.267c-0.236,0.125 -0.428,0.284 -0.576,0.478c-0.148,0.194 -0.222,0.429 -0.222,0.705c0,0.259 0.057,0.483 0.171,0.672c0.113,0.189 0.28,0.361 0.499,0.518c0.083,0.059 0.173,0.118 0.27,0.176l-2.774,0Z" style="fill:#666" /></svg>',header:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M15,9l0,1.375l-1,0l0,-0.375l-1,0l0,4l0.5,0.5l0,0.5l-2,0l0,-0.5l0.5,-0.5l0,-4l-1,0l0,0.375l-1,0l0,-1.375l5,0Z M3,10l-2,0l0,-9l2,0l0,3l3,0l0,-3l2,0l0,9l-2,0l0,-4l-3,0l0,4Z" style="fill:#666" /></svg>',zoom:'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16"><path d="M 5.5,2 C 3.0206409,2 1,4.0206409 1,6.5 C 1,8.9793591 3.0206409,11 5.5,11 C 7.9793591,11 10,8.9793591 10,6.5 C 10,4.0206409 7.9793591,2 5.5,2 Z M 5.5,3 C 7.4389189,3 9,4.5610811 9,6.5 C 9,8.4389189 7.4389189,10 5.5,10 C 3.5610811,10 2,8.4389189 2,6.5 C 2,4.5610811 3.5610811,3 5.5,3 Z M 8.6035156,9.3964844 L 7.8964844,10.103516 L 12.396484,14.603516 L 13.103516,13.896484 Z" style="fill:#666666" /> <path d="M 3,6 V 7 H 8 V 6 Z M 5,4 V 9 H 6 V 4 Z" style="fill:#3a85f0" /></svg>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.editor=e,this.span=this.generateElement()}return e.prototype.append=function(e){e.appendChild(this.span)},e.prototype.generateElement=function(){var e=this,t=document.createElement("span");return t.className="btn",t.innerHTML=this.getIcon(),t.addEventListener("click",function(t){e.doAction()}),t},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(107);t.Editor=o.default;var r=n(69);t.Undo=r.default;var i=n(63);t.EditPlugin=i.default;var a=n(67);t.MouseUpPlugin=a.default;var s=n(62);t.DOMEventPlugin=s.default;var l=n(68);t.TypeInContainerPlugin=l.default;var u=n(64);t.FirefoxTypeAfterLink=u.default;var c=n(60);t.CopyPlugin=c.default;var d=n(34);t.cacheGetEventData=d.default;var f=n(66);t.clearEventDataCache=f.default;var p=n(65);t.cacheGetContentSearcher=p.cacheGetContentSearcher,t.clearContentSearcherCache=p.clearContentSearcherCache;var h=n(121);t.cacheGetElementAtCursor=h.default;var v=n(71);t.isModifierKey=v.default;var g=n(70);t.isCharacterValue=g.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return!(!e||!t)&&(!(!n||e!=t)||(t instanceof Node||(t=t&&t.commonAncestorContainer,n=!0),t&&3==t.nodeType&&(t=t.parentNode,n=!0),1!=e.nodeType?!!n&&e==t:!(!n&&e==t)&&e.contains(t)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&1==e.nodeType?e.tagName.toUpperCase():""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),r=n(13),i=function(){function e(e,t){switch(e.node?(this.node=e.node,t=e.offset):this.node=e,t){case-2:this.offset=a(this.node),this.node=this.node.parentNode,this.isAtEnd=!1;break;case-3:this.offset=a(this.node)+1,this.isAtEnd=!this.node.nextSibling,this.node=this.node.parentNode;break;case-1:this.offset=s(this.node),this.isAtEnd=!0;break;default:var n=s(this.node);this.offset=Math.max(0,Math.min(t,n)),this.isAtEnd=t>0&&t>=n}this.element=o.default(this.node)}return e.prototype.normalize=function(){if(3==this.node.nodeType||!this.node.firstChild)return this;for(var t=this.node,n=this.isAtEnd?-1:this.offset;1==t.nodeType&&t.firstChild;)t=0==n?t.firstChild:-1==n?t.lastChild:t.childNodes[n],n=this.isAtEnd?-1:0;return new e(t,n)},e.prototype.equalTo=function(e){return e&&(this==e||this.node==e.node&&this.offset==e.offset&&this.isAtEnd==e.isAtEnd)},e.prototype.isAfter=function(e){return this.node==e.node?this.isAtEnd&&!e.isAtEnd||this.offset>e.offset:r.default(this.node,e.node)},e.prototype.move=function(t){return new e(this.node,Math.max(this.offset+t,0))},e.getStart=function(t){return new e(t.startContainer,t.startOffset)},e.getEnd=function(t){return new e(t.endContainer,t.endOffset)},e}();function a(e){for(var t=0;e=e.previousSibling;)t++;return t}function s(e){return 3==e.nodeType?e.nodeValue.length:1==e.nodeType?e.childNodes.length:1}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=null;t.default=function(e,t){e.focus();var n=function(){return e.getDocument().execCommand(t,!1,null)},i=e.getSelectionRange();i&&i.collapsed?(e.addUndoSnapshot(),n(),function(e){r||(r=Object.keys(o.PendableFormatCommandMap).map(function(e){return o.PendableFormatCommandMap[e]}));return r.indexOf(e)>=0}(t)&&e.triggerPluginEvent(12,{formatState:o.getPendableFormatState(e.getDocument())})):e.addUndoSnapshot(n,"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),r=n(5),i=n(6),a=n(24),s=n(22),l=n(36);function u(e,t,n){var o=e;if("BR"==i.default(o)&&n)return o;for(;o;){for(var r=e;!(r=n?e.nextSibling:e.previousSibling);)if((e=e.parentNode)==t)return o;for(;r;){if(a.default(r))return o;if("BR"==i.default(r))return n?r:o;e=r,r=n?e.firstChild:e.lastChild}o=e}return o}t.default=function(e,t){if(!r.default(e,t))return null;var n=l.default.getBlockContext(t);if(n==t)return new s.default(n);var i=u(t,n,!1),c=u(t,n,!0),d=o.default(e,i,c,!1);if(i=d[0],c=d[d.length-1],i.parentNode!=c.parentNode)return new l.default(e,i,c);for(;!i.previousSibling&&!c.nextSibling;){var f=i.parentNode;if(f==n){n!=e&&(i=c=f);break}i=c=f}return i==c&&a.default(i)?new s.default(i):new l.default(e,i,c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(25),r=n(7);function i(e,t,n,o){var i,u;if(s(e)?(i=e,u=s(t)?t:null):e instanceof Node&&(t instanceof Array?(i=l(e,t),u=n instanceof Array?l(e,n):null):"number"==typeof t?(i=new r.default(e,t),u=n instanceof Node?new r.default(n,o):null):(t instanceof Node||!t)&&(i=new r.default(e,-2),u=new r.default(t||e,-3))),i&&i.node){var c=i.node.ownerDocument.createRange();return i=a(i),u=a(u||i),c.setStart(i.node,i.offset),c.setEnd(u.node,u.offset),c}return null}function a(e){return 1==e.node.nodeType&&o.default(e.node)?new r.default(e.node,e.isAtEnd?-3:-2):e}function s(e){return e&&e.node}function l(e,t){if(!e||!t)return null;for(var n,o=0;o<t.length&&(n=t[o],o<t.length-1&&e&&1==e.nodeType&&e.childNodes.length>n);o++)e=e.childNodes[n];return new r.default(e,n)}t.default=i,t.getRangeFromSelectionPath=function(e,t){return i(e,t.start,t.end)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),r=n(6),i=n(39),a=n(40),s=n(19);t.default=function(e,t){var n=e instanceof Node?o.default(e,t):e;return t&&n&&function(e,t){for(var n,o=[e],l=e.parentNode;l&&t.contains(l);l=l.parentNode)o.push(l);for(var u=o.length-1;u>=0&&!n;u--){var c=o[u],d=r.default(c);"A"==d?n=new a.default(c,t):"IMG"==d&&(n=new i.default(c,t))}return n||new s.default(e,t)}(t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=n(29);function i(e,t,n){var i=null,a=n?function(e){return e.nextSibling}:function(e){return e.previousSibling},s=n?function(e){return e.firstChild}:function(e){return e.lastChild};if(o.default(e,t))for(var l=t,u=!0;u;){var c=l.parentNode;for(l=a(l);!l&&c!=e;)l=a(c),c=c.parentNode;for(;l&&s(l);)l=s(l);if(!(u=l&&r.default(l))){i=l;break}}return i}t.getLeafSibling=i,t.getNextLeafSibling=function(e,t){return i(e,t,!0)},t.getPreviousLeafSibling=function(e,t){return i(e,t,!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return!(!e||!t||4!=(4&t.compareDocumentPosition(e)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(13);function r(e,t){if(!e||!e.parentNode)return null;var n=e.parentNode,o=n.cloneNode(!1);if(o.removeAttribute("id"),t)for(;n.firstChild&&n.firstChild!=e;)o.appendChild(n.firstChild);else for(;e.nextSibling;)o.appendChild(e.nextSibling);return o.firstChild&&""!=o.innerHTML?n.parentNode.insertBefore(o,t?n:n.nextSibling):o=null,o}t.default=r,t.splitBalancedNodeRange=function(e){var t=e instanceof Array?e[0]:e,n=e instanceof Array?e[e.length-1]:e,i=t&&n&&t.parentNode==n.parentNode?t.parentNode:null;if(i){if(o.default(t,n)){var a=n;n=t,t=a}r(t,!0),r(n,!1)}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r="​";function i(e,t){if(!t&&"LI"==o.getTagOfNode(e.parentElement)&&0==Array.from(e.parentNode.children).indexOf(e)){var n=o.getComputedStyle(e,"font-size");e.parentElement.style.fontSize=n}}t.default=function(e,t){e.focus();var n=e.getSelectionRange();if(n&&n.collapsed){var a=n.startContainer;if("SPAN"==o.getTagOfNode(a)&&(!a.firstChild||"BR"==o.getTagOfNode(a.firstChild)&&!a.firstChild.nextSibling))e.addUndoSnapshot(),t(a),i(a);else a&&3==a.nodeType&&a.nodeValue==r&&"SPAN"==o.getTagOfNode(a.parentNode)||(e.addUndoSnapshot(),a=e.getDocument().createTextNode(r),n.insertNode(a)),o.applyTextStyle(a,function(e,n){t(e,n),i(e,n)}),e.select(a,-1)}else e.addUndoSnapshot(function(){for(var n,o,r=e.getSelectionTraverser(),a=r&&r.currentInlineElement;a;){var s=r.getNextInlineElement();a.applyStyle(function(e,r){t(e,r),i(e,r),n=n||e,o=e}),a=s}n&&o&&e.select(n,-2,o,-3)},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(150);t.HtmlSanitizer=o.default;var r=n(76);t.htmlToDom=r.default,t.splitWithFragment=r.splitWithFragment;var i=n(75);t.getInheritableStyles=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(37);t.default=function(e,t){if(0==(e=e?e instanceof Node?[e]:e:[]).length||!e[0])return null;if(!(t instanceof Element)){var n=e[0].ownerDocument;t=/^\w+$/.test(t=t||"div")?n.createElement(t):o.default(t,n)[0]}var r=e[0].parentNode;r&&r.insertBefore(t,e[0]);for(var i=0,a=e;i<a.length;i++){var s=a[i];t.appendChild(s)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5);t.default=function(e,t,n){var r=(e=e?1==e.nodeType?e:e.parentNode:null)&&1==e.nodeType?e:null;if(r&&n)if(r.closest)r=r.closest(n);else for(;r&&r!=t&&!(r.matches||r.msMatchesSelector).call(r,n);)r=r.parentElement;return!t||o.default(t,r)?r:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),r=n(13),i=n(7),a=function(){function e(e,t){this.containerNode=e,this.parentBlock=t}return e.prototype.getTextContent=function(){return 3==this.containerNode.nodeType?this.containerNode.nodeValue:this.containerNode.textContent},e.prototype.getContainerNode=function(){return this.containerNode},e.prototype.getParentBlock=function(){return this.parentBlock},e.prototype.getStartPosition=function(){return new i.default(this.containerNode,0).normalize()},e.prototype.getEndPosition=function(){return new i.default(this.containerNode,-1).normalize()},e.prototype.isTextualInlineElement=function(){return this.containerNode&&3==this.containerNode.nodeType},e.prototype.isAfter=function(e){return e&&r.default(this.containerNode,e.getContainerNode())},e.prototype.contains=function(e){var t=this.getStartPosition(),n=this.getEndPosition();return e&&e.isAfter(t)&&n.isAfter(e)},e.prototype.applyStyle=function(e){o.default(this.containerNode,e)},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),r=n(10),i=n(7),a=n(12),s=function(){function e(e,t,n){this.inlineElement=e,this.start=t,this.end=n}return e.prototype.getDecoratedInline=function(){return this.inlineElement},e.prototype.getContainerNode=function(){return this.inlineElement.getContainerNode()},e.prototype.getParentBlock=function(){return this.inlineElement.getParentBlock()},e.prototype.getTextContent=function(){return r.default(this.getStartPosition(),this.getEndPosition()).toString()},e.prototype.getStartPosition=function(){return this.start||this.inlineElement.getStartPosition()},e.prototype.getEndPosition=function(){return this.end||this.inlineElement.getEndPosition()},Object.defineProperty(e.prototype,"nextInlineElement",{get:function(){return this.end&&new e(this.inlineElement,this.end,null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previousInlineElement",{get:function(){return this.start&&new e(this.inlineElement,null,this.start)},enumerable:!0,configurable:!0}),e.prototype.contains=function(e){return e&&e.isAfter(this.getStartPosition())&&this.getEndPosition().isAfter(e)},e.prototype.isTextualInlineElement=function(){return this.inlineElement&&this.inlineElement.isTextualInlineElement()},e.prototype.isAfter=function(e){var t=this.getStartPosition(),n=e&&e.getEndPosition();return n&&(t.isAfter(n)||t.equalTo(n))},e.prototype.applyStyle=function(e){var t=this.getStartPosition().normalize(),n=this.getEndPosition().normalize(),r=this.getContainerNode();if(t.isAtEnd){var s=a.getNextLeafSibling(r,t.node);t=s?new i.default(s,0):null}if(0==n.offset){var l=a.getPreviousLeafSibling(r,n.node);n=l?new i.default(l,-1):null}o.default(r,e,t,n)},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(84);t.HyperLink=o.default;var r=n(100);t.ContentEdit=r.default;var i=n(146);t.Paste=i.default;var a=n(51);t.getDefaultContentEditFeatures=a.getDefaultContentEditFeatures;var s=n(157);t.Watermark=s.default;var l=n(158);t.TableResize=l.default;var u=n(159);t.CustomReplace=u.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=n(13),i=function(){function e(e){this.element=e}return e.prototype.collapseToSingleElement=function(){return this.element},e.prototype.getStartNode=function(){return this.element},e.prototype.getEndNode=function(){return this.element},e.prototype.equals=function(e){return this.element==e.getStartNode()},e.prototype.isAfter=function(e){return r.default(this.element,e.getEndNode())},e.prototype.contains=function(e){return o.default(this.element,e,!0)},e.prototype.getTextContent=function(){return this.element.textContent},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=n(14);function i(e,t,n,i,a){for(;t.parentNode!=e&&!o.default(t.parentNode,n);){if(i&&t.previousSibling||!i&&t.nextSibling){if(!a)break;r.default(t,i)}t=t.parentNode}return t}t.default=function(e,t,n,r){if(!o.default(e,t)||!o.default(e,n))return[];if(t=i(e,t,n,!0,r),n=i(e,n,t,!1,r),o.default(t,n,!0))return[t];if(o.default(n,t))return[n];if(t.parentNode==n.parentNode){var a=[].slice.call(t.parentNode.childNodes),s=a.indexOf(t),l=a.indexOf(n);return a.slice(s,l+1)}return[t,n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),r="ADDRESS,ARTICLE,ASIDE,BLOCKQUOTE,CANVAS,DD,DIV,DL,DT,FIELDSET,FIGCAPTION,FIGURE,FOOTER,FORM,H1,H2,H3,H4,H5,H6,HEADER,HR,LI,MAIN,NAV,NOSCRIPT,OL,OUTPUT,P,PRE,SECTION,TABLE,TD,TH,TFOOT,UL,VIDEO".split(","),i=["block","list-item","table-cell"];t.default=function(e){var t=o.default(e);return!(!t||!(i.indexOf(e.style.display)>=0||r.indexOf(t)>=0))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),r="AREA,BASE,BR,COL,COMMAND,EMBED,HR,IMG,INPUT,KEYGEN,LINK,META,PARAM,SOURCE,TRACK,WBR".split(",");t.default=function(e){return!!e&&r.indexOf(o.default(e))>=0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(85),r=n(43),i=n(9),a=n(11),s=n(20),l=n(86),u=n(87),c=n(31),d=n(12),f=function(){function e(e){this.scoper=e}return e.createBodyTraverser=function(t,n){return new e(new o.default(t,n))},e.createSelectionTraverser=function(t,n){return new e(new u.default(t,n))},e.createBlockTraverser=function(t,n,o){return void 0===o&&(o=2),new e(new l.default(t,n,o))},Object.defineProperty(e.prototype,"currentBlockElement",{get:function(){return this.currentBlock||(this.currentBlock=this.scoper.getStartBlockElement()),this.currentBlock},enumerable:!0,configurable:!0}),e.prototype.getNextBlockElement=function(){return this.getPreviousNextBlockElement(!0)},e.prototype.getPreviousBlockElement=function(){return this.getPreviousNextBlockElement(!1)},e.prototype.getPreviousNextBlockElement=function(e){var t=this.currentBlockElement,n=d.getLeafSibling(this.scoper.rootNode,e?t.getEndNode():t.getStartNode(),e),o=n?i.default(this.scoper.rootNode,n):null;return o&&this.scoper.isBlockInScope(o)&&(e&&o.isAfter(t)||!e&&t.isAfter(o))?(this.currentBlock=o,this.currentBlock):null},Object.defineProperty(e.prototype,"currentInlineElement",{get:function(){return this.currentInline||(this.currentInline=this.scoper.getStartInlineElement()),this.currentInline instanceof r.default?null:this.currentInline},enumerable:!0,configurable:!0}),e.prototype.getNextInlineElement=function(){return this.getPreviousNextInlineElement(!0)},e.prototype.getPreviousInlineElement=function(){return this.getPreviousNextInlineElement(!1)},e.prototype.getPreviousNextInlineElement=function(e){var t,n=this.currentInlineElement||this.currentInline;return n instanceof r.default?(t=c.getInlineElementBeforeAfter(this.scoper.rootNode,n.getStartPosition(),e))&&!n.getParentBlock().contains(t.getContainerNode())&&(t=null):t=(t=function(e,t,n){if(!t)return null;if(t instanceof s.default){var o=n?t.nextInlineElement:t.previousInlineElement;if(o)return o}var r=t.getContainerNode();return r=d.getLeafSibling(e,r,n),a.default(e,r)}(this.scoper.rootNode,n,e))&&n&&(e&&t.isAfter(n)||!e&&n.isAfter(t))?t:null,t&&(t=this.scoper.trimInlineElement(t))?(this.currentInline=t,this.currentInline):null},e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),r=n(7),i=n(28),a=n(17),s=n(12),l=n(14),u="SPAN,B,I,U,EM,STRONG,STRIKE,S,SMALL".split(",");function c(e,t){e&&1==e.nodeType&&t(e,!0)}t.default=function(e,t,n,d){void 0===n&&(n=new r.default(e,0).normalize()),void 0===d&&(d=new r.default(e,-1).normalize());for(var f=[];n&&d&&d.isAfter(n);){var p=n.node,h=o.default(p.parentNode),v=s.getNextLeafSibling(e,p);3==p.nodeType&&["TR","TABLE"].indexOf(h)<0&&(p!=d.node||d.isAtEnd||(p=i.default(p,d.offset,!0)),n.offset>0&&(p=i.default(p,n.offset,!1)),f.push(p)),n=v&&new r.default(v,0)}if(f.length>0){if(f.every(function(e){return e.parentNode==f[0].parentNode})){var g=f.shift();f.forEach(function(e){g.nodeValue+=e.nodeValue,e.parentNode.removeChild(e)}),f=[g]}f.forEach(function(e){for(;"SPAN"!=o.default(e)&&u.indexOf(o.default(e.parentNode))>=0;)c(e,t),e=l.splitBalancedNodeRange(e);"SPAN"!=o.default(e)&&(c(e,t),e=a.default(e,"SPAN")),t(e)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o=e.nodeValue.substr(0,t),r=e.nodeValue.substr(t),i=e.ownerDocument.createTextNode(n?o:r);return e.nodeValue=n?r:o,e.parentNode.insertBefore(i,n?e:e.nextSibling),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),r=/^[\r\n]+$/gm;t.default=function(e){return 3==e.nodeType?!e.nodeValue||""==e.textContent||r.test(e.nodeValue):1!=e.nodeType||"none"==o.getComputedStyle(e,"display")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(18);function r(e,t){void 0===t&&(t=["font-family","font-size","color","background-color"]);var n=o.default(e),r=[];if(t=t instanceof Array?t:[t],n){var a=(n.ownerDocument.defaultView||window).getComputedStyle(n);if(a)for(var s=0,l=t;s<l.length;s++){var u=l[s],c=(a.getPropertyValue(u)||"").toLowerCase();c="font-size"==u?i(c):c,r.push(c)}}return r}function i(e){return e&&e.indexOf("px")==e.length-2?Math.round(75*parseFloat(e)+.05)/100+"pt":e}t.default=r,t.getComputedStyle=function(e,t){return r(e,t)[0]||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=n(20),i=n(29),a=n(12);function s(e,t,n){if(!e||!t||!t.node)return null;var s=(t=t.normalize()).node,l=t.offset,u=t.isAtEnd,c=!1;!n&&0==l&&!u||n&&u?s=a.getLeafSibling(e,s,n):3==s.nodeType&&(!n&&!u||n&&l>0)&&(c=!0),s&&i.default(s)&&(s=a.getLeafSibling(e,s,n));var d=o.default(e,s);return d&&(c||d.contains(t))&&(d=n?new r.default(d,t,null):new r.default(d,null,t)),d}t.getInlineElementBefore=function(e,t){return s(e,t,!1)},t.getInlineElementAfter=function(e,t){return s(e,t,!0)},t.getInlineElementBeforeAfter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),r=["IMG"],i=["TABLE","IMG","LI"].join(","),a=/\u200b/g;function s(e,t){return e=e.replace(a,""),t?e.trim():e}t.default=function(e,t){if(!e)return!1;if(3==e.nodeType)return""==s(e.nodeValue,t);if(1==e.nodeType){var n=e;if(""!=s(n.textContent,t)||r.indexOf(o.default(n))>=0||n.querySelectorAll(i)[0])return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.currentIndex+t;return n>=0&&n<e.snapshots.length}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o=e&&e.eventDataCache&&e.eventDataCache.hasOwnProperty(t)?e.eventDataCache[t]:n();return e&&(e.eventDataCache=e.eventDataCache||{},e.eventDataCache[t]=o),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r="ROOSTERJS_TEMP_NODE_FOR_LIST",i='<img class="'+r+'">';t.default=function(e,t){var n,a;if(o.Browser.isChrome&&"outdent"==t){var s=e.getElementAtCursor("LI");if(s){var l=e.getSelectionRange();(l.collapsed||e.getElementAtCursor("LI",l.startContainer)==s&&e.getElementAtCursor("LI",l.endContainer)==s)&&(a=o.getSelectionPath(s,l),n=s.cloneNode(!0))}!function(e){var t=e.getSelectionTraverser(),n=t&&t.currentBlockElement;for(;n;){var r=n.getStartNode();if(r){var a=o.fromHtml(i,e.getDocument())[0];o.isVoidHtmlElement(r)||!o.isBlockElement(r)?r.parentNode.insertBefore(a,r):r.insertBefore(a,r.firstChild)}n=t.getNextBlockElement()}}(e)}var u,c=e.getElementAtCursor("OL,UL");e.getDocument().execCommand(t,!1,null),e.queryElements("."+r,function(t){u=t.parentNode,e.deleteNode(t)});var d=e.getElementAtCursor("OL,UL");if(d==c&&(d=null),d&&n&&u&&n instanceof HTMLElement&&(u instanceof HTMLElement&&n.tagName==u.tagName&&d.replaceChild(n,u),a&&document.body.contains(n))){var f=o.getRangeFromSelectionPath(n,a);e.select(f)}if(null!=d)for(var p=0;p<d.children.length;p++){var h=d.children.item(p);if("LI"==o.getTagOfNode(h)&&h.childNodes.length>0){var v=h.children.item(0);"SPAN"==o.getTagOfNode(v)&&(h.style.fontSize=v.style.fontSize)}}return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),r=n(5),i=n(6),a=n(24),s=n(13),l=n(17),u=n(14),c=n(10),d=["TD","TH","LI","BLOCKQUOTE"],f=function(){function e(e,t,n){this.rootNode=e,this.startNode=t,this.endNode=n}return e.getBlockContext=function(e){for(;e&&!a.default(e);)e=e.parentNode;return e},e.prototype.collapseToSingleElement=function(){for(var t=o.default(e.getBlockContext(this.startNode),this.startNode,this.endNode,!0),n=e.getBlockContext(this.startNode);t[0]&&t[0]!=n&&t[0].parentNode!=this.rootNode&&d.indexOf(i.default(t[0].parentNode))<0;)t=[u.splitBalancedNodeRange(t)];return 1==t.length&&a.default(t[0])?t[0]:l.default(t)},e.prototype.getStartNode=function(){return this.startNode},e.prototype.getEndNode=function(){return this.endNode},e.prototype.equals=function(e){return this.startNode==e.getStartNode()&&this.endNode==e.getEndNode()},e.prototype.isAfter=function(e){return s.default(this.getStartNode(),e.getEndNode())},e.prototype.contains=function(e){return r.default(this.startNode,e,!0)||r.default(this.endNode,e,!0)||s.default(e,this.startNode)&&s.default(this.endNode,e)},e.prototype.getTextContent=function(){return c.default(this.getStartNode(),this.getEndNode()).toString()},e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.createElement("DIV");return n.innerHTML=e,[].slice.call(n.childNodes)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(9);function r(e,t){var n=e;do{n=n&&(t?n.firstChild:n.lastChild)}while(n&&n.firstChild);return n&&o.default(e,n)}t.default=r,t.getFirstBlockElement=function(e){return r(e,!0)},t.getLastBlockElement=function(e){return r(e,!1)}},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t}(n(19).default);t.default=i},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t}(n(19).default);t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=n(42);t.getFirstInlineElement=function(e){var t=r.getFirstLeafNode(e);return t?o.default(e,t):null},t.getLastInlineElement=function(e){var t=r.getLastLeafNode(e);return t?o.default(e,t):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(29),r=n(12);function i(e,t){for(var n=function(e){return t?e.firstChild:e.lastChild},i=n(e);i&&n(i);)i=n(i);return i&&o.default(i)&&(i=r.getLeafSibling(e,i,t)),i}t.getFirstLeafNode=function(e){return i(e,!0)},t.getLastLeafNode=function(e){return i(e,!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.position=e,this.parentBlock=t}return e.prototype.getTextContent=function(){return""},e.prototype.getContainerNode=function(){return this.position.node},e.prototype.getParentBlock=function(){return this.parentBlock},e.prototype.getStartPosition=function(){return this.position},e.prototype.getEndPosition=function(){return this.position},e.prototype.isAfter=function(e){return e&&this.position.isAfter(e.getEndPosition())},e.prototype.isTextualInlineElement=function(){return!1},e.prototype.contains=function(e){return!1},e.prototype.applyStyle=function(e){},e}();t.default=o},function(e,t,n){"use strict";function o(e,t){var n=-1!=e.indexOf("rv:")&&-1!=e.indexOf("Trident"),o=-1!=e.indexOf("MSIE")||n,r=!1,i=!1,a=!1,s=!1,l=-1!=e.indexOf("WebKit");return o||(r=-1!=e.indexOf("Chrome"),i=-1!=e.indexOf("Firefox"),-1!=e.indexOf("Safari")&&(a=-1==e.indexOf("Chrome")&&-1==e.indexOf("Android")),(s=-1!=e.indexOf("Edge"))&&(l=r=i=!1)),{isMac:-1!=t.indexOf("Mac"),isWin:-1!=t.indexOf("Win")||-1!=t.indexOf("NT"),isWebKit:l,isIE:o,isIE11OrGreater:n,isSafari:a,isChrome:r,isFirefox:i,isEdge:s,isIEOrEdge:o||s}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowserInfo=o,t.Browser=window?o(window.navigator.userAgent,window.navigator.appVersion):{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),r=n(6);t.default=function(e,t){var n;if(!e||!t)return null;for(var i=e.ownerDocument.createElement(t),a=0;a<e.attributes.length;a++){var s=e.attributes[a];i.setAttribute(s.name,s.value)}for(;e.firstChild;)i.appendChild(e.firstChild);return"P"!=r.default(e)&&"P"!=r.default(i)||(n=o.default(e,["margin-top","margin-bottom"]),i.style.marginTop=n[0],i.style.marginBottom=n[1]),e.parentNode&&e.parentNode.replaceChild(i,e),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=n(6),i=n(32);function a(e){for(;e.previousSibling;)if(e=e.previousSibling,"BR"==r.default(e)||!i.default(e))return!1;return!0}t.default=function(e,t){if(e){var n=e.normalize(),r=n.node;if(0==n.offset){for(;o.default(t,r)&&a(r);)r=r.parentNode;return r==t}}return!1}},function(e,t,n){"use strict";function o(e,t){return t.some(function(t){return 0==t?0==e:(e&t)==t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){if(void 0===r&&(r=0),!e||!t)return[];var a=[].slice.call(e.querySelectorAll(t));return 0!=r&&i&&(a=a.filter(function(e){return function(e,t,n){var r=e.compareDocumentPosition(t.startContainer),i=e.compareDocumentPosition(t.endContainer),a=[0,8];n||a.push(16);return o(r,a)||o(i,a)||o(r,[2])&&o(i,[4])&&!o(i,[16])}(e,i,2==r)})),n&&a.forEach(n),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e?e.parentNode:null;if(!t)return null;for(;e.firstChild;)t.insertBefore(e.firstChild,e);return t.removeChild(e),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){var t=this;if(this.trs=[],this.table=e instanceof HTMLTableElement?e:function(e){for(var t=e;t&&"TABLE"!=t.tagName;t=t.parentElement);return t}(e),this.table){var n=e instanceof HTMLTableElement?null:e,o=[].slice.call(this.table.rows);this.cells=o.map(function(e){return[]}),o.forEach(function(e,o){t.trs[o%2]=e;for(var r=0,i=0;r<e.cells.length;r++){for(;t.cells[o][i];i++);var a=e.cells[r];a==n&&(t.col=i,t.row=o);for(var s=0;s<a.colSpan;s++,i++)for(var l=0;l<a.rowSpan;l++)t.cells[o+l][i]={td:s+l==0?a:null,spanLeft:s>0,spanAbove:l>0}}})}}return e.prototype.writeBack=function(){var e=this;this.cells?(s(this.table),this.cells.forEach(function(t,n){var o=a(e.trs[n%2]||e.trs[0]);e.table.appendChild(o),t.forEach(function(t,r){t.td&&(e.recalcSpans(n,r),o.appendChild(t.td))})})):this.table&&this.table.parentNode.removeChild(this.table)},e.prototype.applyFormat=function(e){e&&this.table&&(this.table.style.borderCollapse="collapse",this.trs[0].style.backgroundColor=e.bgColorOdd||"transparent",this.trs[1]&&(this.trs[1].style.backgroundColor=e.bgColorEven||"transparent"),this.cells.forEach(function(t){return t.filter(function(e){return e.td}).forEach(function(t){t.td.style.borderTop=r(e.topBorderColor),t.td.style.borderBottom=r(e.bottomBorderColor),t.td.style.borderLeft=r(e.verticalBorderColor),t.td.style.borderRight=r(e.verticalBorderColor)})}))},e.prototype.edit=function(e){var t=this;if(this.table){var n=this.cells[this.row],o=n[this.col];switch(e){case 0:this.cells.splice(this.row,0,n.map(i));break;case 1:var r=this.row+this.countSpanAbove(this.row,this.col);this.cells.splice(r,0,this.cells[r-1].map(function(e,n){var o=t.getCell(r,n);if(o.spanAbove)return i(o);if(e.spanLeft){var s=i(e);return s.spanAbove=!1,s}return{td:a(t.getTd(t.row,n))}}));break;case 2:this.forEachCellOfCurrentColumn(function(e,n){n.splice(t.col,0,i(e))});break;case 3:var l=this.col+this.countSpanLeft(this.row,this.col);this.forEachCellOfColumn(l-1,function(e,n,o){var r,s=t.getCell(o,l);s.spanLeft?r=i(s):e.spanAbove?(r=i(e)).spanLeft=!1:r={td:a(t.getTd(o,t.col))},n.splice(l,0,r)});break;case 6:this.forEachCellOfCurrentRow(function(e,n){var o=t.getCell(t.row+1,n);e.td&&e.td.rowSpan>1&&o.spanAbove&&(o.td=e.td)}),this.cells.splice(this.row,1);break;case 5:this.forEachCellOfCurrentColumn(function(e,n,o){var r=t.getCell(o,t.col+1);e.td&&e.td.colSpan>1&&r.spanLeft&&(r.td=e.td),n.splice(t.col,1)});break;case 7:case 8:for(var u=7==e?-1:1,c=this.row+u;c>=0&&c<this.cells.length;c+=u){if((v=this.getCell(c,this.col)).td&&!v.spanAbove){var d=c<this.row?v:o,f=c<this.row?o:v;d.td.colSpan==f.td.colSpan&&(s(f.td,d.td),f.td=null,f.spanAbove=!0);break}}break;case 9:case 10:for(var p=9==e?-1:1,h=this.col+p;h>=0&&h<this.cells[this.row].length;h+=p){var v;if((v=this.getCell(this.row,h)).td&&!v.spanLeft){var g=h<this.col?v:o,m=h<this.col?o:v;g.td.rowSpan==m.td.rowSpan&&(s(m.td,g.td),m.td=null,m.spanLeft=!0);break}}break;case 4:this.cells=null;break;case 12:if(o.td.rowSpan>1)this.getCell(this.row+1,this.col).td=a(o.td);else{var y=n.map(function(e){return{td:e==o?a(e.td):null,spanAbove:e!=o,spanLeft:e.spanLeft}});this.cells.splice(this.row+1,0,y)}break;case 11:o.td.colSpan>1?this.getCell(this.row,this.col+1).td=a(o.td):this.forEachCellOfCurrentColumn(function(e,o){o.splice(t.col+1,0,{td:o==n?a(e.td):null,spanAbove:e.spanAbove,spanLeft:o!=n})})}}},e.prototype.forEachCellOfCurrentColumn=function(e){this.forEachCellOfColumn(this.col,e)},e.prototype.forEachCellOfCurrentRow=function(e){this.forEachCellOfRow(this.row,e)},e.prototype.getCell=function(e,t){return this.cells&&this.cells[e]&&this.cells[e][t]||{}},e.prototype.getCurrentTd=function(){return this.getTd(this.row,this.col)},e.prototype.getTd=function(e,t){if(this.cells)for(e=Math.min(this.cells.length-1,e),t=Math.min(this.cells[e].length-1,t);e>=0&&t>=0;){var n=this.getCell(e,t);if(n.td)return n.td;if(n.spanLeft)t--;else{if(!n.spanAbove)break;e--}}return null},e.prototype.forEachCellOfColumn=function(e,t){for(var n=0;n<this.cells.length;n++)t(this.getCell(n,e),this.cells[n],n)},e.prototype.forEachCellOfRow=function(e,t){for(var n=0;n<this.cells[e].length;n++)t(this.getCell(e,n),n)},e.prototype.recalcSpans=function(e,t){var n=this.getCell(e,t).td;n&&(n.colSpan=this.countSpanLeft(e,t),n.rowSpan=this.countSpanAbove(e,t),1==n.colSpan&&n.removeAttribute("colSpan"),1==n.rowSpan&&n.removeAttribute("rowSpan"))},e.prototype.countSpanLeft=function(e,t){for(var n=1,o=t+1;o<this.cells[e].length;o++){var r=this.getCell(e,o);if(r.td||!r.spanLeft)break;n++}return n},e.prototype.countSpanAbove=function(e,t){for(var n=1,o=e+1;o<this.cells.length;o++){var r=this.getCell(o,t);if(r.td||!r.spanAbove)break;n++}return n},e}();function r(e){return"solid 1px "+(e||"transparent")}function i(e){return{td:a(e.td),spanAbove:e.spanAbove,spanLeft:e.spanLeft}}function a(e){var t=e?e.cloneNode(!1):null;return t&&t instanceof HTMLTableCellElement&&(t.removeAttribute("id"),t.firstChild||t.appendChild(e.ownerDocument.createElement("br"))),t}function s(e,t){for(;e.firstChild;)t?t.appendChild(e.firstChild):e.removeChild(e.firstChild)}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(33);t.default=function(e){if(o.default(e,1)){for(var t=0,n=e.currentIndex+1;n<e.snapshots.length;n++)t+=e.snapshots[n].length;e.snapshots.splice(e.currentIndex+1),e.totalSize-=t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.getDefaultContentEditFeatures=function(){return{autoLink:!0,indentWhenTab:!0,outdentWhenShiftTab:!0,outdentWhenBackspaceOnEmptyFirstLine:!0,outdentWhenEnterOnEmptyLine:o.Browser.isIE,mergeInNewLineWhenBackspaceOnFirstChar:!1,unquoteWhenBackspaceOnEmptyFirstLine:!0,unquoteWhenEnterOnEmptyLine:!0,autoBullet:!0,tabInTable:!0,upDownInTable:o.Browser.isChrome||o.Browser.isSafari,insertLineBeforeStructuredNodeFeature:!1,defaultShortcut:!0,unlinkWhenBackspaceAfterLink:!1,smartOrderedList:!1,smartOrderedListStyles:["lower-alpha","lower-roman","decimal"]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);function r(e){var t=e.getStartNode();return e instanceof o.StartEndBlockElement&&t==e.getEndNode()&&3==t.nodeType&&["TR","TABLE"].indexOf(o.getTagOfNode(t.parentNode))>=0}t.default=function(e,t){for(var n=e.getSelectionTraverser(),o=n&&n.currentBlockElement,i=[];o;)r(o)||i.push(o),o=n.getNextBlockElement();i.forEach(function(e){var n=e.collapseToSingleElement();t(n)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(15);t.default=function(e,t){if("string"==typeof t){var n=t.trim();o.default(e,function(e,t){e.style.backgroundColor=t?"":n})}else{var r=e.isDarkMode(),i=r?t.darkModeColor:t.lightModeColor;o.default(e,function(e,n){e.style.backgroundColor=n?"":i,r&&(e.dataset.ogsb=t.lightModeColor)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(15);t.default=function(e,t){t=t.trim(),o.default(e,function(e,n){e.style.fontFamily=n?"":t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),r=n(0);t.default=function(e,t){t=t.trim(),o.default(e,function(e,n){e.style.fontSize=n?"":t,"normal"!=r.getComputedStyle(e,"line-height")&&(e.style.lineHeight="normal")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(15);t.default=function(e,t){if("string"==typeof t){var n=t.trim();o.default(e,function(e,t){e.style.color=t?"":n})}else{var r=e.isDarkMode(),i=r?t.darkModeColor:t.lightModeColor;o.default(e,function(e,n){e.style.color=n?"":i,r&&(e.dataset.ogsc=t.lightModeColor)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);t.default=function(e){o.default(e,"bold")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);t.default=function(e){o.default(e,"italic")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);t.default=function(e){o.default(e,"underline")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(61),r=function(){function e(){var e=this;this.onCopy=function(t){if(e.editor&&e.editor.isDarkMode()){var n=e.editor.getSelectionRange();if(n&&!n.collapsed){var r=t,i=e.editor.getSelectionRange().cloneContents(),a=o.default(i),s=e.editor.getDocument().createElement("div");s.setAttribute("contenteditable","true"),s.innerHTML=a,r.clipboardData.setData("text/html",a),r.clipboardData.setData("text/plain",s.innerText),t.preventDefault()}}}}return e.prototype.getName=function(){return"Copy"},e.prototype.initialize=function(e){this.editor=e,this.copyDisposer=e.addDomEventHandler("copy",this.onCopy)},e.prototype.dispose=function(){this.copyDisposer(),this.copyDisposer=null,this.editor=null},e}();t.default=r},function(e,t,n){"use strict";function o(e){return e&&"undefined"!=e&&"null"!=e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=document.createElement("div");t.setAttribute("contenteditable","true"),e instanceof DocumentFragment?t.appendChild(e):t.innerHTML=e;var n=t.getElementsByTagName("*");return[].forEach.call(n,function(e){e.dataset&&(e.style.color=o(e.dataset.ogsc)?e.dataset.ogsc:"",e.style.backgroundColor=o(e.dataset.ogsb)?e.dataset.ogsb:"",o(e.dataset.ogac)?e.setAttribute("color",e.dataset.ogac):e.removeAttribute("color"),o(e.dataset.ogab)?e.setAttribute("bgcolor",e.dataset.ogab):e.removeAttribute("bgcolor"),e.dataset.ogsc&&delete e.dataset.ogsc,e.dataset.ogsb&&delete e.dataset.ogsb,e.dataset.ogac&&delete e.dataset.ogac,e.dataset.ogab&&delete e.dataset.ogab)}),t.innerHTML}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(e){var t=this;this.disableRestoreSelectionOnFocus=e,this.inIme=!1,this.onNativeEvent=function(e){t.editor.runAsync(function(){t.editor.addUndoSnapshot(function(){},"cut"==e.type?"Cut":"Drop")})},this.onFocus=function(){if(t.disableRestoreSelectionOnFocus){if(t.cachedPosition&&t.cachedFormatState){var e=t.editor.getSelectionRange();e.collapsed&&o.Position.getStart(e).normalize().equalTo(t.cachedPosition)?t.restorePendingFormatState():t.clear()}}else t.editor.restoreSavedRange()},this.onBlur=function(){t.editor.saveSelectionRange()},this.onScroll=function(e){t.editor.triggerPluginEvent(14,{rawEvent:e,scrollContainer:t.editor.getScrollContainer()})}}return e.prototype.getName=function(){return"DOMEvent"},e.prototype.initialize=function(e){var t,n=this;this.editor=e,this.disposer=e.addDomEventHandler(((t={compositionstart:function(){return n.inIme=!0},compositionend:function(t){n.inIme=!1,e.triggerPluginEvent(3,{rawEvent:t})},drop:this.onNativeEvent,cut:this.onNativeEvent,focus:this.onFocus})[o.Browser.isIEOrEdge?"beforedeactivate":"blur"]=this.onBlur,t)),this.editor.getScrollContainer().addEventListener("scroll",this.onScroll)},e.prototype.dispose=function(){this.editor.getScrollContainer().removeEventListener("scroll",this.onScroll),this.disposer(),this.disposer=null,this.editor=null,this.clear()},e.prototype.onPluginEvent=function(e){switch(e.eventType){case 12:this.cachedPosition=this.getCurrentPosition(),this.cachedFormatState=e.formatState;break;case 0:case 4:case 6:this.cachedPosition&&!this.cachedPosition.equalTo(this.getCurrentPosition())&&this.clear()}},e.prototype.restorePendingFormatState=function(){var e=this;if(this.cachedFormatState){var t=o.getPendableFormatState(this.editor.getDocument());Object.keys(o.PendableFormatCommandMap).forEach(function(n){e.cachedFormatState[n]!=t[n]&&e.editor.getDocument().execCommand(o.PendableFormatCommandMap[n],!1,null)}),this.cachedPosition=this.getCurrentPosition()}},e.prototype.isInIME=function(){return this.inIme},e.prototype.clear=function(){this.cachedPosition=null,this.cachedFormatState=null},e.prototype.getCurrentPosition=function(){var e=this.editor.getSelectionRange();return e&&o.Position.getStart(e).normalize()},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.featureMap={},this.autoCompleteSnapshot=null,this.autoCompleteChangeSource=null}return e.prototype.getName=function(){return"Edit"},e.prototype.initialize=function(e){var t=this;this.editor=e,this.addFeature({keys:[8],shouldHandleEvent:function(){return null!==t.autoCompleteSnapshot},handleEvent:function(e,n){e.rawEvent.preventDefault(),n.setContent(t.autoCompleteSnapshot,!1)}})},e.prototype.dispose=function(){this.editor=null},e.prototype.onPluginEvent=function(e){var t=!1,n=this.findFeature(e);switch(e.eventType){case 6:t=this.autoCompleteChangeSource!=e.source;break;case 4:case 0:t=!0}n&&n.handleEvent(e,this.editor),t&&(this.autoCompleteSnapshot=null,this.autoCompleteChangeSource=null)},e.prototype.addFeature=function(e){var t=this;e.keys.forEach(function(n){var o=t.featureMap[n]||[];o.push(e),t.featureMap[n]=o})},e.prototype.performAutoComplete=function(e,t){var n=this;this.editor.addUndoSnapshot(function(o,r,i){var a=e();return n.autoCompleteSnapshot=i,n.autoCompleteChangeSource=t,a},t)},e.prototype.findFeature=function(e){var t,n=this,o=!1;if(0==e.eventType){var r=e.rawEvent;o=r.ctrlKey||r.altKey||r.metaKey,t=this.featureMap[r.which]}else 6==e.eventType&&(t=this.featureMap[2048]);return t&&t.filter(function(t){return(t.allowFunctionKeys||!o)&&t.shouldHandleEvent(e,n.editor)})[0]},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(65),r=n(0),i=function(){function e(){}return e.prototype.getName=function(){return"FirefoxTypeAfterLink"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null},e.prototype.onPluginEvent=function(e){if(1==e.eventType){var t=this.editor.getSelectionRange();if(t&&t.collapsed&&this.editor.getElementAtCursor("A[href]")){var n=o.cacheGetContentSearcher(e,this.editor).getInlineElementBefore();n instanceof r.LinkInlineElement&&this.editor.select(new r.Position(n.getContainerNode(),-3))}}},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(34),r=n(66),i="CONTENTSEARCHER";t.cacheGetContentSearcher=function(e,t){return o.default(e,i,function(){return t.getContentSearcherOfCursor()})},t.clearContentSearcherCache=function(e){r.default(e,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e&&e.eventDataCache&&e.eventDataCache.hasOwnProperty(t)&&delete e.eventDataCache[t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){var e=this;this.onMouseUp=function(t){e.editor&&(e.removeMouseUpEventListener(),e.editor.triggerPluginEvent(5,{rawEvent:t}))}}return e.prototype.getName=function(){return"MouseUp"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.removeMouseUpEventListener(),this.editor=null},e.prototype.onPluginEvent=function(e){4!=e.eventType||this.mouseUpEventListerAdded||(this.editor.getDocument().addEventListener("mouseup",this.onMouseUp,!0),this.mouseUpEventListerAdded=!0)},e.prototype.removeMouseUpEventListener=function(){this.mouseUpEventListerAdded&&(this.mouseUpEventListerAdded=!1,this.editor.getDocument().removeEventListener("mouseup",this.onMouseUp,!0))},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(){}return e.prototype.getName=function(){return"TypeInContainer"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null},e.prototype.onPluginEvent=function(e){1==e.eventType&&this.onKeyPress(e)},e.prototype.ensureTypeInElement=function(e,t){var n,r=e.normalize(),i=this.editor.getBlockElementAtNode(r.node);if(i){n=i.collapseToSingleElement();var a=o.isNodeEmpty(n)||t&&this.wasNodeJustCreatedByKeyboardEvent(t,n);n=n&&a?n:null}else n=o.fromHtml(o.Browser.isEdge?"<div><span><br></span></div>":"<div><br></div>",this.editor.getDocument())[0],this.editor.insertNode(n,{position:1,updateCursor:!1,replaceSelection:!1,insertOnNewLine:!1}),r=new o.Position(n.firstChild,0);return n&&o.applyFormat(n,this.editor.getDefaultFormat(),this.editor.isDarkMode()),r},e.prototype.onKeyPress=function(e){var t=this,n=this.editor.getSelectionRange();n&&!this.editor.contains(o.findClosestElementAncestor(n.startContainer))&&(n.collapsed?this.tryNormalizeTyping(e,n):n.collapsed||this.editor.runAsync(function(){t.tryNormalizeTyping(e)}))},e.prototype.tryNormalizeTyping=function(e,t){var n=this.ensureTypeInElement(o.Position.getStart(t||this.editor.getSelectionRange()),e);this.editor.select(n)},e.prototype.wasNodeJustCreatedByKeyboardEvent=function(e,t){return e.rawEvent.target instanceof Node&&e.rawEvent.target.contains(t)&&e.rawEvent.key===t.innerText},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(110),r=function(){function e(e,t){void 0===t&&(t=1e7),this.preserveSnapshots=e,this.maxBufferSize=t}return e.prototype.getName=function(){return"Undo"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null,this.preserveSnapshots||this.clear()},e.prototype.onPluginEvent=function(e){if(!this.editor.isInIME())switch(e.eventType){case 9:this.preserveSnapshots&&(this.canUndo()||this.canRedo())||this.addUndoSnapshot();break;case 0:this.onKeyDown(e.rawEvent);break;case 1:this.onKeyPress(e.rawEvent);break;case 3:this.clearRedoForInput(),this.addUndoSnapshot();break;case 6:this.isRestoring||this.clearRedoForInput()}},e.prototype.clear=function(){this.undoSnapshots=null,this.hasNewContent=!1},e.prototype.undo=function(){this.hasNewContent&&this.addUndoSnapshot(),this.restoreSnapshot(-1)},e.prototype.redo=function(){this.restoreSnapshot(1)},e.prototype.canUndo=function(){return this.hasNewContent||this.getSnapshotsManager().canMove(-1)},e.prototype.canRedo=function(){return this.getSnapshotsManager().canMove(1)},e.prototype.addUndoSnapshot=function(){var e=this.editor.getContent(!1,!0);return this.getSnapshotsManager().addSnapshot(e),this.hasNewContent=!1,e},e.prototype.getSnapshotsManager=function(){return this.undoSnapshots||(this.undoSnapshots=new o.default(this.maxBufferSize)),this.undoSnapshots},e.prototype.restoreSnapshot=function(e){var t=this.getSnapshotsManager().move(e);if(null!=t)try{this.isRestoring=!0,this.editor.setContent(t)}finally{this.isRestoring=!1}},e.prototype.onKeyDown=function(e){if(8==e.which||46==e.which){var t=this.editor.getSelectionRange();t&&(!t.collapsed||this.lastKeyPress!=e.which||e.ctrlKey||e.metaKey)&&this.addUndoSnapshot(),this.hasNewContent=!0,this.lastKeyPress=e.which}else e.which>=33&&e.which<=40&&(this.hasNewContent&&this.addUndoSnapshot(),this.lastKeyPress=0)},e.prototype.onKeyPress=function(e){if(!e.metaKey){var t=this.editor.getSelectionRange();t&&!t.collapsed||32==e.which&&32!=this.lastKeyPress||13==e.which?(this.addUndoSnapshot(),13==e.which&&(this.hasNewContent=!0)):this.clearRedoForInput(),this.lastKeyPress=e.which}},e.prototype.clearRedoForInput=function(){this.getSnapshotsManager().clearRedo(),this.lastKeyPress=0,this.hasNewContent=!0},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(71);t.default=function(e){return!o.default(e)&&e.key&&1==e.key.length}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="Control",r="Alt",i="Meta";t.default=function(e){var t=e.ctrlKey||e.key===o,n=e.altKey||e.key===r,a=e.metaKey||e.key===i;return t||n||a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r={backgroundColors:{darkModeColor:"rgb(51,51,51)",lightModeColor:"rgb(255,255,255)"},textColors:{darkModeColor:"rgb(255,255,255)",lightModeColor:"rgb(0,0,0)"}};t.calculateDefaultFormat=function(e,t,n){if(n&&(t.backgroundColors||(t.backgroundColors=r.backgroundColors),t.textColors||(t.textColors=r.textColors)),t&&0===Object.keys(t).length)return{};var i=(t=t||{}).fontFamily,a=t.fontSize,s=t.textColor,l=t.textColors,u=t.backgroundColor,c=t.backgroundColors,d=t.bold,f=t.italic,p=t.underline,h=i&&a&&(s||l)?null:o.getComputedStyles(e);return{fontFamily:i||h[0],fontSize:a||h[1],get textColor(){return l?n?l.darkModeColor:l.lightModeColor:s||h[2]},textColors:l,get backgroundColor(){return c?n?c.darkModeColor:c.lightModeColor:u||""},backgroundColors:c,bold:d,italic:f,underline:p}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.hasFocus=function(e){var t=e.document.activeElement;return t&&o.contains(e.contentDiv,t,!0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r="&#8203;",i="LI,THEAD,TBODY,TR,TD,TH".split(","),a=function(e){};t.default=function(e,t,n,s,l){void 0===s&&(s=function(e){return o.wrap(e,t)}),void 0===l&&(l=o.unwrap),e.focus(),e.addUndoSnapshot(function(u,c){var d,f=e.getSelectionRange();if(f&&0==e.queryElements(t,1,l).length){var p=o.Position.getStart(f).normalize().node,h=e.getBlockElementAtNode(p),v=o.Position.getEnd(f).normalize().node,g=e.getBlockElementAtNode(v),m=h&&g?e.collapseNodes(h.getStartNode(),g.getEndNode(),!0):[];if(0==m.length)m=o.fromHtml("<DIV>"+(o.Browser.isIEOrEdge?r:"<BR>")+"</DIV>",e.getDocument()),e.insertNode(m[0]),e.select(m[0],0);else if(1==m.length){var y=o.getTagOfNode(m[0]);"BR"==y?m=[o.wrap(m[0])]:"LI"!=y&&"TD"!=y||(m=[].slice.call(m[0].childNodes))}else for(;m[0]&&e.contains(m[0].parentNode)&&m.some(function(e){return i.indexOf(o.getTagOfNode(e))>=0});)m=[o.splitBalancedNodeRange(m)];d=s(m),(n||a)(d)}return!e.select(u,c)&&d&&e.select(d),d},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="border-spacing,caption-side,color,cursor,direction,empty-cells,font-family,font-size,font-style,font-variant,font-weight,font,letter-spacing,line-height,list-style-image,list-style-position,list-style-type,list-style,orphans,quotes,text-align,text-indent,text-transform,visibility,white-space,widows,word-spacing".split(",");t.default=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView,n=t&&t.getComputedStyle(e),r={};return o.forEach(function(e){return r[e]=n&&n.getPropertyValue(e)||""}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="\x3c!--StartFragment--\x3e",r="\x3c!--EndFragment--\x3e";function i(e){var t=e.indexOf(o),n=e.lastIndexOf(r);if(t>=0&&n>=0&&n>=t+o.length){var i=e.substr(0,t),a=e.substr(n+r.length);return[e=e.substring(t+o.length,n),i,a]}return[e,null,null]}t.default=function(e,t,n){var o=(new DOMParser).parseFromString(e||"","text/html");return o&&o.body&&o.body.firstChild?(t&&(n||function(e,t){var n=i(t)[0];e.body.innerHTML=n})(o,e),o):null},t.splitWithFragment=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneObject=Object.assign?function(e,t){return Object.assign(t||{},e)}:function(e,t){var n=t||{};if(e)for(var o=0,r=Object.keys(e);o<r.length;o++){var i=r[o];n[i]=e[i]}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="NodeId";function r(e,t){var n=t.getAttribute(o);return n||(n=e.nextNodeId.toString(),e.nextNodeId++,t.setAttribute(o,n)),n}t.createCustomData=function(){return{dict:{},nextNodeId:1}},t.setObject=function(e,t,n,o){if(1==t.nodeType){var i=r(e,t);""!=i&&(e.dict[i]||(e.dict[i]={}),e.dict[i][n]=o)}},t.getObject=function(e,t,n){if(1==t.nodeType){var o=r(e,t);if(""!=o)return e.dict[o]&&e.dict[o][n]}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLevelLists=function(){return{listsMetadata:{},currentUniqueListId:-1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(162);t.EditorWithGui=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.text=function(e){return document.createTextNode(e)},e.div=function(e,t){var n=document.createElement("div");return e&&(n.className=e),t&&t.forEach(function(e){n.appendChild(e)}),n},e}();t.default=o},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var r=n(83);t.createEditor=r.default;var i=n(160);t.createEditorWithGui=i.default,o(n(187)),o(n(0)),o(n(4)),o(n(1)),o(n(21)),o(n(188)),o(n(16)),o(n(190)),o(n(80))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),r=n(4);t.default=function(e,t,n){var i=[new o.HyperLink,new o.Paste,new o.ContentEdit];t&&(i=i.concat(t));var a={plugins:i,initialContent:n,defaultFormat:{fontFamily:"Calibri,Arial,Helvetica,sans-serif",fontSize:"11pt",textColor:"#000000"}};return new r.Editor(e,a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(e,t,n){var o=this;void 0===e&&(e=function(e){return e}),this.getTooltipCallback=e,this.target=t,this.onLinkClick=n,this.onMouse=function(e){var t=o.editor.getElementAtCursor("a[href]",e.target),n=o.tryGetHref(t);n&&o.editor.setEditorDomAttribute("title","mouseover"==e.type?o.getTooltipCallback(n,t):null)}}return e.prototype.getName=function(){return"Hyperlink"},e.prototype.initialize=function(e){this.editor=e,this.disposer=this.getTooltipCallback&&e.addDomEventHandler({mouseover:this.onMouse,mouseout:this.onMouse})},e.prototype.dispose=function(){this.disposer(),this.disposer=null,this.editor=null},e.prototype.onPluginEvent=function(e){if(5==e.eventType){var t=this.editor.getElementAtCursor("A",e.rawEvent.srcElement);if(t){if(this.onLinkClick&&!1!==this.onLinkClick(t,e.rawEvent))return;var n=void 0;if(!o.Browser.isFirefox&&(n=this.tryGetHref(t))&&(o.Browser.isMac?e.rawEvent.metaKey:e.rawEvent.ctrlKey)&&0===e.rawEvent.button)try{var r=this.target||"_blank";this.editor.getDocument().defaultView.open(n,r)}catch(e){}}}},e.prototype.tryGetHref=function(e){try{return e?e.href:null}catch(e){}},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=n(9),i=n(11),a=n(38),s=n(41),l=function(){function e(e,t){this.rootNode=e,this.startNode=o.default(e,t)?t:null}return e.prototype.getStartBlockElement=function(){return this.startNode?r.default(this.rootNode,this.startNode):a.getFirstBlockElement(this.rootNode)},e.prototype.getStartInlineElement=function(){return this.startNode?i.default(this.rootNode,this.startNode):s.getFirstInlineElement(this.rootNode)},e.prototype.isBlockInScope=function(e){return o.default(this.rootNode,e.getStartNode())},e.prototype.trimInlineElement=function(e){return e},e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(43),r=n(9),i=n(11),a=n(22),s=n(7),l=n(31),u=n(41),c=function(){function e(e,t,n){this.rootNode=e,this.startFrom=n,t=t instanceof Range?s.default.getStart(t):t,this.position=t.normalize(),this.block=r.default(this.rootNode,this.position.node)}return e.prototype.getStartBlockElement=function(){return this.block},e.prototype.getStartInlineElement=function(){if(this.block)switch(this.startFrom){case 0:case 1:return function(e,t){if(e instanceof a.default){var n=e.getStartNode();return t?u.getFirstInlineElement(n):u.getLastInlineElement(n)}return i.default(e,t?e.getStartNode():e.getEndNode())}(this.block,0==this.startFrom);case 2:var e=l.getInlineElementAfter(this.rootNode,this.position);return e&&this.block.contains(e.getContainerNode())?e:new o.default(this.position,this.block)}return null},e.prototype.isBlockInScope=function(e){return!(!this.block||!e)&&this.block.equals(e)},e.prototype.trimInlineElement=function(e){return this.block&&e&&this.block.contains(e.getContainerNode())?e:null},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),r=n(20),i=n(7),a=n(31),s=function(){function e(e,t){this.rootNode=e,this.start=i.default.getStart(t).normalize(),this.end=i.default.getEnd(t).normalize()}return e.prototype.getStartBlockElement=function(){return this.startBlock||(this.startBlock=o.default(this.rootNode,this.start.node)),this.startBlock},e.prototype.getStartInlineElement=function(){return this.startInline||(this.startInline=this.trimInlineElement(a.getInlineElementAfter(this.rootNode,this.start))),this.startInline},e.prototype.isBlockInScope=function(e){if(!e)return!1;var t=!1,n=this.getStartBlockElement();if(this.start.equalTo(this.end))t=n&&n.equals(e);else{var r=o.default(this.rootNode,this.end.node);t=n&&r&&(e.equals(n)||e.equals(r)||e.isAfter(n)&&r.isAfter(e))}return t},e.prototype.trimInlineElement=function(e){if(!e||this.start.equalTo(this.end))return null;var t=e.getStartPosition(),n=e.getEndPosition();if(t.isAfter(this.end)||this.start.isAfter(n))return null;var o=!1,i=!1;return this.start.isAfter(t)&&(t=this.start,o=!0),n.isAfter(this.end)&&(n=this.end,i=!0),t.isAfter(n)||t.equalTo(n)?null:o||i?new r.default(e,o&&t,i&&n):e},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),r=n(10),i=/[\s\u00A0\u200B\u3000]+([^\s\u00A0\u200B\u3000]*)$/i,a=function(){function e(e,t){this.rootNode=e,this.position=t,this.text="",this.inlineElements=[]}return e.prototype.getWordBefore=function(){var e=this;return this.word||this.traverse(function(){return e.word}),this.word},e.prototype.getInlineElementBefore=function(){return this.inlineBefore||this.traverse(null),this.inlineBefore},e.prototype.getInlineElementAfter=function(){return this.inlineAfter||(this.inlineAfter=o.default.createBlockTraverser(this.rootNode,this.position).currentInlineElement),this.inlineAfter},e.prototype.getSubStringBefore=function(e){var t=this;return this.text.length<e&&this.traverse(function(){return t.text.length>=e}),this.text.substr(Math.max(0,this.text.length-e))},e.prototype.getRangeFromText=function(e,t){if(!e)return null;var n,o,i=e.length-1;return this.forEachTextInlineElement(function(r){for(var a=r.getTextContent()||"",s=a.length-1;s>=0&&i>=0;s--)if(e.charCodeAt(i)==a.charCodeAt(s))i--,o||(o=r.getStartPosition().move(s+1));else if(t||o)return!0;return-1==i&&(n=r.getStartPosition().move(s+1),!0)}),n&&o&&r.default(n,o)},e.prototype.forEachTextInlineElement=function(e){this.inlineElements.some(e)||this.traverse(e)},e.prototype.getNearestNonTextInlineElement=function(){var e=this;return this.nearestNonTextInlineElement||this.traverse(function(){return e.nearestNonTextInlineElement}),this.nearestNonTextInlineElement},e.prototype.traverse=function(e){if(this.traverser=this.traverser||o.default.createBlockTraverser(this.rootNode,this.position),this.traverser&&!this.traversingComplete)for(var t=this.traverser.getPreviousInlineElement();!this.traversingComplete;){if(this.inlineBefore=this.inlineBefore||t,!t||!t.isTextualInlineElement()){this.nearestNonTextInlineElement=t,this.traversingComplete=!0,this.word||(this.word=this.text);break}var n=t.getTextContent();if(!this.word){var r=i.exec(n);r&&2==r.length&&(this.word=r[1]+this.text)}if(this.text=n+this.text,this.inlineElements.push(t),e&&e(t))break;t=this.traverser.getPreviousInlineElement()}},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(t){var o=e.style,r=t.fontFamily,i=t.fontSize,a=t.textColor,s=t.textColors,l=t.backgroundColor,u=t.backgroundColors,c=t.bold,d=t.italic,f=t.underline;r&&(o.fontFamily=r),i&&(o.fontSize=i),(a||s)&&(s&&n&&(e.dataset.ogsc=s.lightModeColor),o.color=a),(l||u)&&(u&&n&&(e.dataset.ogsb=u.lightModeColor),o.backgroundColor=l),c&&(o.fontWeight="bold"),d&&(o.fontStyle="italic"),f&&(o.textDecoration="underline")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(44),r=/^Version:[0-9\.]+\s+StartHTML:\s*([0-9]+)\s+EndHTML:\s*([0-9]+)\s+/i;function i(e){for(var t=e.items?e.items.length:0,n=0;n<t;n++){var o=e.items[n];if(o.type&&0==o.type.indexOf("image/"))return o.getAsFile()}t=e.files?e.files.length:0;for(n=0;n<t;n++){var r=e.files.item(n);if(r.type&&0==r.type.indexOf("image/"))return r}return null}function a(e){var t=r.exec(e);if(t&&3==t.length){var n=parseInt(t[1]),o=parseInt(t[2]);n>0&&o>n&&(e=e.substring(n,o))}return e}t.default=function(e,t){var n=e.clipboardData||e.target.ownerDocument.defaultView.clipboardData,r={types:n.types?[].slice.call(n.types):[],text:n.getData("text"),image:i(n),html:void 0};if(e.clipboardData&&e.clipboardData.items){e.preventDefault();for(var s=e.clipboardData.items,l=0;l<s.length;l++){var u=s[l];if(u.type&&0==u.type.indexOf("text/html"))return void u.getAsString(function(e){r.html=o.Browser.isEdge?a(e):e,t(r)})}r.html=null}t(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PendableFormatCommandMap={isBold:"bold",isItalic:"italic",isUnderline:"underline",isStrikeThrough:"strikeThrough",isSubscript:"subscript",isSuperscript:"superscript"},t.default=function(e){return Object.keys(t.PendableFormatCommandMap).reduce(function(n,o){return n[o]=e.queryCommandState(t.PendableFormatCommandMap[o]),n},{})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=/^[^?]+%[^0-9a-f]+|^[^?]+%[0-9a-f][^0-9a-f]+|^[^?]+%00|^[^?]+%$|^https?:\/\/[^?\/]+@|^www\.[^?\/]+@/i,r="(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)*[a-z0-9](?:[a-z0-9-]*[a-z0-9])?(?:\\:[0-9]+)?(?:[\\/\\?]\\S*)?",i={http:{match:new RegExp("^(?:microsoft-edge:)?http:\\/\\/"+r+"|www\\."+r,"i"),except:o,normalizeUrl:function(e){return new RegExp("^(?:microsoft-edge:)?http:\\/\\/","i").test(e)?e:"http://"+e}},https:{match:new RegExp("^(?:microsoft-edge:)?https:\\/\\/"+r,"i"),except:o},mailto:{match:new RegExp("^mailto:\\S+@\\S+\\.\\S+","i")},notes:{match:new RegExp("^notes:\\/\\/\\S+","i")},file:{match:new RegExp("^file:\\/\\/\\/?\\S+","i")},unc:{match:new RegExp("^\\\\\\\\\\S+","i")},ftp:{match:new RegExp("^ftp:\\/\\/"+r+"|ftp\\."+r,"i"),normalizeUrl:function(e){return new RegExp("^ftp:\\/\\/","i").test(e)?e:"ftp://"+e}},news:{match:new RegExp("^news:(\\/\\/)?"+r,"i")},telnet:{match:new RegExp("^telnet:(\\/\\/)?"+r,"i")},gopher:{match:new RegExp("^gopher:\\/\\/"+r,"i")},wais:{match:new RegExp("^wais:(\\/\\/)?"+r,"i")}};t.default=function(e){if(e)for(var t=0,n=Object.keys(i);t<n.length;t++){var o=n[t],r=i[o],a=e.match(r.match);if(a&&a[0]==e&&(!r.except||!r.except.test(e)))return{scheme:o,originalUrl:e,normalizedUrl:r.normalizeUrl?r.normalizeUrl(e):e}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),r=n(5),i=n(10),a=n(18),s=n(9),l=n(6),u=n(32),c=n(46),d=n(25),f=n(7),p=n(47),h=n(28),v=n(48),g=n(49),m=n(17),y=n(14),E=[function(e,t,n){var o=s.default(e,n.node);if(o){var a=p.default(e,"a[href]",null,1,i.default(n)).filter(function(e){return o.contains(e)})[0];if(a&&u.default(a)&&(n=new f.default(a,-2),w(a),a=null),a&&t.querySelector&&t.querySelector("a[href]")){var l=n.normalize(),c=l.node.parentNode,d=3==l.node.nodeType?h.default(l.node,l.offset,!1):l.isAtEnd?l.node.nextSibling:l.node,v=e.ownerDocument.createTextNode("");for(c.insertBefore(v,d);r.default(a,v);)v=y.splitBalancedNodeRange(v);n=new f.default(v,-2),w(v)}}return n},function(e,t,n){var o=t;if(11==o.nodeType){var r=[].slice.call(o.childNodes).filter(function(e){return"BR"!=l.default(e)});o=1==r.length?r[0]:null}var i=l.default(o),s=i&&"BR"==l.default(o.nextSibling),u=a.default(n.node,e,"LI"),d=u&&a.default(u,e,"OL,UL"),p=a.default(n.node,e,"TD,TH"),h=p&&a.default(p,e,"TR");"LI"==i&&(i=d?l.default(d):"UL",o=m.default(o,i));if("OL"!=i&&"UL"!=i||"LI"!=l.default(o.firstChild)){if("TABLE"==i&&h){var y=new g.default(o),E=new g.default(p);0==E.col&&p==E.getCell(E.row,0).td&&y.cells[0]&&y.cells[0].length==E.cells[0].length&&c.default(n,p)&&("TBODY"!=l.default(o.firstChild)||o.firstChild.nextSibling||v.default(o.firstChild),v.default(o),n=new f.default(h,-3))}}else{var b=!o.firstChild.nextSibling&&!s;s&&o.parentNode&&w(o.nextSibling),b?(v.default(o.firstChild),v.default(o)):l.default(d)==i&&(v.default(o),n=new f.default(u,c.default(n,u)?-2:-3))}return n},function(e,t,n){if("P"==l.default(n.node)){var r=n.normalize(),i=o.default(n.node,"div");r.node!=i&&(n=r)}return n},function(e,t,n){d.default(n.node)&&(n=new f.default(n.node,n.isAtEnd?-3:-2));return n}];function w(e){e&&e.parentNode&&e.parentNode.removeChild(e)}t.default=function(e,t,n){return E.forEach(function(o){n=o(e,t,n)}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(26);t.default=function(e){for(var t=o.default.createBodyTraverser(e),n=t&&t.currentBlockElement,r=[];n;)r.push(n.getTextContent()),n=t.getNextBlockElement();return r.join("\n")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(10);function r(e){var t=e||{},n=t.left,o=t.right,r=t.top,i=t.bottom;return n+o+r+i>0?{left:Math.round(n),right:Math.round(o),top:Math.round(r),bottom:Math.round(i)}:null}t.default=function(e){if(!e)return null;var t=o.default(e),n=t.getBoundingClientRect&&r(t.getBoundingClientRect());if(n)return n;e=e.normalize();var i=t.getClientRects&&t.getClientRects();if(n=i&&1==i.length&&r(i[0]))return n;if(3==e.node.nodeType){var a=document.createElement("SPAN");if(a.innerHTML="​",(t=o.default(e)).insertNode(a),n=a.getBoundingClientRect&&r(a.getBoundingClientRect()),a.parentNode.removeChild(a),n)return n}var s=e.element;return s&&s.getBoundingClientRect&&(n=r(s.getBoundingClientRect()))?n:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=n(7);function i(e,t){if(!e||!t)return[];var n,r=e.node,i=e.offset,a=[];if(!o.default(t,r,!0))return[];if(3==r.nodeType){for(n=r.parentNode;r.previousSibling&&3==r.previousSibling.nodeType;)i+=r.previousSibling.nodeValue.length,r=r.previousSibling;a.unshift(i)}else n=r,r=r.childNodes[i];do{i=0;for(var s=!1,l=n.firstChild;l&&l!=r;l=l.nextSibling){if(3==l.nodeType){if(0==l.nodeValue.length||s)continue;s=!0}else s=!1;i++}a.unshift(i),r=n,n=n.parentNode}while(r&&r!=t);return a}t.default=function(e,t){return t?{start:i(r.default.getStart(t),e),end:i(r.default.getEnd(t),e)}:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(50);t.default=function(e,t){if(e.currentIndex<0||t!=e.snapshots[e.currentIndex]){o.default(e),e.snapshots.push(t),e.currentIndex++,e.totalSize+=t.length;for(var n=0;n<e.snapshots.length&&e.totalSize>e.maxSize;)e.totalSize-=e.snapshots[n].length,n++;n>0&&(e.snapshots.splice(0,n),e.currentIndex-=n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(33);t.default=function(e,t){return o.default(e,t)?(e.currentIndex+=t,e.snapshots[e.currentIndex]):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{snapshots:[],totalSize:0,currentIndex:-1,maxSize:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(51),r=n(101),i=n(141),a=n(142),s=n(143),l=n(144),u=n(145),c=function(){function e(e){this.featureSet=e}return e.prototype.getName=function(){return"ContentEdit"},e.prototype.initialize=function(e){var t=this;this.editor=e,this.getFilteredFeatures().forEach(function(e){return t.editor.addContentEditFeature(e)})},e.prototype.dispose=function(){this.editor=null},e.prototype.getFilteredFeatures=function(){var e=this.featureSet||o.getDefaultContentEditFeatures(),t={indentWhenTab:l.IndentWhenTab,outdentWhenShiftTab:l.OutdentWhenShiftTab,outdentWhenBackspaceOnEmptyFirstLine:l.OutdentWhenBackOn1stEmptyLine,outdentWhenEnterOnEmptyLine:l.OutdentWhenEnterOnEmptyLine,mergeInNewLineWhenBackspaceOnFirstChar:l.MergeInNewLine,unquoteWhenBackspaceOnEmptyFirstLine:u.UnquoteWhenBackOnEmpty1stLine,unquoteWhenEnterOnEmptyLine:u.UnquoteWhenEnterOnEmptyLine,tabInTable:s.TabInTable,upDownInTable:s.UpDownInTable,insertLineBeforeStructuredNodeFeature:a.InsertLineBeforeStructuredNodeFeature,autoBullet:l.AutoBullet,autoLink:r.AutoLink,unlinkWhenBackspaceAfterLink:r.UnlinkWhenBackspaceAfterLink,defaultShortcut:i.DefaultShortcut,smartOrderedList:l.getSmartOrderedList(e.smartOrderedListStyles)};return Object.keys(t).filter(function(t){return e[t]}).map(function(e){return t[e]})},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(4),a=/[.+=\s:;"',>]+$/i,s=5;function l(e,t){return 0==e.eventType||6==e.eventType&&"Paste"==e.source?i.cacheGetEventData(e,"LINK_DATA",function(){var n=6==e.eventType&&"Paste"==e.source&&e.data,r=o.matchLink((n.text||"").trim()),l=i.cacheGetContentSearcher(e,t);if(r&&l.getRangeFromText(r.originalUrl,!1))return r;var u=l&&l.getWordBefore();if(u&&u.length>s){var c=(u.match(a)||[])[0]||"",d=u.substring(0,u.length-c.length);return["()","{}","[]"].forEach(function(e){d[d.length-1]==e[1]&&d.indexOf(e[0])<0&&(d=d.substr(0,d.length-1))}),o.matchLink(d)}return null}):null}t.AutoLink={keys:[13,32,2048],shouldHandleEvent:l,handleEvent:function(e,t){var n=t.getDocument().createElement("a"),o=l(e,t),a=t.getContentSearcherOfCursor();n.textContent=o.originalUrl,n.href=o.normalizedUrl,t.runAsync(function(){t.performAutoComplete(function(){return r.replaceWithNode(t,o.originalUrl,n,!1,a),i.clearContentSearcherCache(e),n},"AutoLink")})}},t.UnlinkWhenBackspaceAfterLink={keys:[8],shouldHandleEvent:function(e,t){return i.cacheGetContentSearcher(e,t).getInlineElementBefore()instanceof o.LinkInlineElement},handleEvent:function(e,t){e.rawEvent.preventDefault(),r.removeLink(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),r=n(0);t.FONT_SIZES=[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72];var i=1,a=1e3;function s(e,t,n){e=1==t?Math.floor(e):Math.ceil(e);var o=n[n.length-1];if(e<=n[0])e=Math.max(e+t,i);else if(e>o||e==o&&1==t)e/=10,e=1==t?Math.floor(e):Math.ceil(e),e=Math.min(Math.max(10*(e+t),o),a);else if(1==t){for(var r=0;r<n.length;r++)if(e<n[r]){e=n[r];break}}else for(r=n.length-1;r>=0;r--)if(e>n[r]){e=n[r];break}return e}t.default=function(e,n,i){void 0===i&&(i=t.FONT_SIZES);var a=0==n?1:-1;o.default(e,function(e){var t=parseFloat(r.getComputedStyle(e,"font-size"));e.style.fontSize=s(t,a,i)+"pt","normal"!=r.getComputedStyle(e,"line-height")&&(e.style.lineHeight="normal")})},t.getNewFontSize=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(52),r=n(0);function i(e,t){return e.indexOf(r.getTagOfNode(t))<0}t.TAGS_TO_UNWRAP="B,I,U,STRONG,EM,SUB,SUP,STRIKE,FONT,CENTER,H1,H2,H3,H4,H5,H6,UL,OL,LI,SPAN,P,BLOCKQUOTE,CODE,S,PRE".split(","),t.TAGS_TO_STOP_UNWRAP=["TD","TH","TR","TABLE","TBODY","THEAD"],t.ATTRIBUTES_TO_PRESERVE=["href"],t.default=function(e,n,a,s){void 0===n&&(n=t.TAGS_TO_UNWRAP),void 0===a&&(a=t.TAGS_TO_STOP_UNWRAP),void 0===s&&(s=t.ATTRIBUTES_TO_PRESERVE),e.focus(),e.addUndoSnapshot(function(t,l){var u=[{}],c=a.join(",");o.default(e,function(t){var n=u[u.length-1],o=e.getElementAtCursor(c,t);o!=n.td&&n.first&&u.push(n={}),n.td=o,n.first=n.first||t,n.last=t}),u.filter(function(e){return e.first}).forEach(function(t){var o=e.collapseNodes(t.first,t.last,!0);if(i(a,o[0]))for(;e.contains(o[0].parentNode)&&i(a,o[0].parentNode);)o=[r.splitBalancedNodeRange(o)];if(o.forEach(function(e){return function e(t,n,o,a){if(1!=t.nodeType||"BR"==r.getTagOfNode(t))return!1;var s=[].slice.call(t.childNodes).map(function(t){return e(t,n,o,a)}).reduce(function(e,t){return e&&t},!0);if(!i(o,t))return!1;var l=r.isBlockElement(t);n.indexOf(r.getTagOfNode(t))>=0||s?(l&&!s&&r.wrap(t),r.unwrap(t)):function(e,t){for(var n=0,o=[].slice.call(e.attributes);n<o.length;n++){var r=o[n];t.indexOf(r.name.toLowerCase())<0&&0!=r.name.indexOf("data-")&&e.removeAttribute(r.name)}}(t,a);return l}(e,n,a,s)}),t.td){var l=t.td.getAttribute("style")||"",u=l.split(";");(l=(u=u.filter(function(e){return 0==e.trim().toLowerCase().indexOf("border")})).join(";"))?t.td.setAttribute("style",l):t.td.removeAttribute("style")}}),e.select(t,l)},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=n(53),i=n(54),a=n(55),s=n(56),l=n(57),u=n(58),c=n(59),d=["font","text-decoration","color","background"];t.default=function(e){e.focus(),e.addUndoSnapshot(function(){o.default(e,"removeFormat"),e.queryElements("[class]",1,function(e){return e.removeAttribute("class")});var t=e.getDefaultFormat(),n=0===Object.keys(t).length;e.queryElements("[style]",2,function(e){d.forEach(function(t){return e.style.removeProperty(t)}),n&&""===e.getAttribute("style")&&e.removeAttribute("style")}),n||(t.fontFamily&&i.default(e,t.fontFamily),t.fontSize&&a.default(e,t.fontSize),t.textColor&&(t.textColors?s.default(e,t.textColors):s.default(e,t.textColor)),t.backgroundColor&&(t.backgroundColors?r.default(e,t.backgroundColors):r.default(e,t.backgroundColor)),t.bold&&l.default(e),t.italic&&u.default(e),t.underline&&c.default(e))},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=/^[a-zA-Z]+:/i,i=/^[\w.%+-]+@/i,a=/^ftp\./i,s="istemptitle";function l(e){return e.queryElements("a[href]",1)[0]}function u(e,t){t&&e.textContent!=t&&(e.textContent=t)}t.default=function(e,t,n,c){e.focus();var d=t?t.trim():"";if(d){var f=o.matchLink(d),p=f?f.normalizedUrl:function(e){if(!e)return e;var t="";return e.search(r)<0&&(t=0==e.search(i)?"mailto:":0==e.search(a)?"ftp://":"http://"),t+e}(d),h=f?f.originalUrl:d;e.addUndoSnapshot(function(){var t=e.getSelectionRange(),o=null;return t&&t.collapsed?(o=l(e))?(o.href=p,u(o,c)):((o=e.getDocument().createElement("A")).textContent=c||h,o.href=p,e.insertNode(o)):(e.getDocument().execCommand("createLink",!1,p),u(o=l(e),c)),n&&o&&(o.removeAttribute(s),o.title=n),o},"CreateLink")}}},function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(0),a=n(0);function s(e,t){var n=i.getTagOfNode(r.cacheGetElementAtCursor(e,t,"OL,UL")),o=i.getTagOfNode(r.cacheGetElementAtCursor(e,t,"H1,H2,H3,H4,H5,H6")),a=r.cacheGetElementAtCursor(e,t,"DIV,OL,UL,LI,H1,H2,H3,H4,H5,H6,P,BLOCKQUOTE"),s="left";if(null!==a)do{if(""!=a.style.textAlign){s=a.style.textAlign;break}a=a.parentElement}while(!e.isContentDiv(a));return{isBullet:"UL"==n,isNumbering:"OL"==n,headerLevel:o&&parseInt(o[1])||0,canUnlink:!!e.queryElements("a[href]",1)[0],canAddImageAltText:!!e.queryElements("img",1)[0],isBlockQuote:!!e.queryElements("blockquote",1)[0],alignLeft:"left"==s,alignCenter:"center"==s,alignRight:"right"==s,alignJustify:"justify"==s}}function l(e){var t=e.getSelectionRange(),n=t&&i.Position.getStart(t).normalize().node,o=n?i.getComputedStyles(n):[];return{fontName:o[0],fontSize:o[1],textColor:o[2],backgroundColor:o[3]}}t.getElementBasedFormatState=s,t.getStyleBasedFormatState=l,t.default=function(e,t){return o({},a.getPendableFormatState(e.getDocument()),s(e,t),l(e),{canUndo:e.canUndo(),canRedo:e.canRedo()})}},function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(108),i=n(109),a=n(61),s=n(119),l=n(72),u=n(120),c=n(0),d=function(){function e(e,t){var n=this;if(void 0===t&&(t={}),"DIV"!=c.getTagOfNode(e))throw new Error("contentDiv must be an HTML DIV element");if(this.core=i.default(e,t),this.core.plugins.forEach(function(e){return e.initialize(n)}),this.setContent(t.initialContent||e.innerHTML||"",!1),this.eventDisposers=s.default(this.core),t.additionalEditFeatures&&t.additionalEditFeatures.forEach(function(e){return n.addContentEditFeature(e)}),!t.omitContentEditableAttributeChanges&&!e.isContentEditable){e.setAttribute("contenteditable","true");var o=e.style;o.userSelect=o.msUserSelect=o.webkitUserSelect="text",this.contenteditableChanged=!0}r.default(),this.triggerPluginEvent(9,{},!0),this.core.corePlugins.typeInContainer.ensureTypeInElement(new c.Position(e,0))}return e.prototype.isContentDiv=function(e){return this.core.contentDiv==e},e.prototype.dispose=function(){this.triggerPluginEvent(10,{},!0),this.core.plugins.forEach(function(e){return e.dispose()}),this.eventDisposers.forEach(function(e){return e()}),this.eventDisposers=null;for(var e=0,t=Object.keys(this.core.customData);e<t.length;e++){var n=t[e],o=this.core.customData[n];o&&o.disposer&&o.disposer(o.value),delete this.core.customData[n]}if(this.contenteditableChanged){var r=this.core.contentDiv.style;r.userSelect=r.msUserSelect=r.webkitUserSelect="",this.core.contentDiv.removeAttribute("contenteditable")}this.core=null},e.prototype.isDisposed=function(){return!this.core},e.prototype.insertNode=function(e,t){var n=this.getDarkModeOptions(),o=this.isDarkMode()?u.convertContentToDarkMode(e,n&&n.onExternalContentTransform?n.onExternalContentTransform:void 0):null,r=!!e&&this.core.api.insertNode(this.core,e,t);return r&&o&&o(),r},e.prototype.deleteNode=function(e){return!(!e||!this.contains(e))&&(e.parentNode.removeChild(e),!0)},e.prototype.replaceNode=function(e,t){return!!(e&&t&&this.contains(e))&&(e.parentNode.replaceChild(t,e),!0)},e.prototype.getInlineElementAtNode=function(e){return c.getInlineElementAtNode(this.core.contentDiv,e)},e.prototype.getBlockElementAtNode=function(e){return c.getBlockElementAtNode(this.core.contentDiv,e)},e.prototype.contains=function(e){return c.contains(this.core.contentDiv,e)},e.prototype.queryElements=function(e,t,n){void 0===t&&(t=0);var o=t instanceof Function?0:t;n=t instanceof Function?t:n;var r=0==o?null:this.getSelectionRange();return c.queryElements(this.core.contentDiv,e,n,o,r)},e.prototype.collapseNodes=function(e,t,n){return c.collapseNodes(this.core.contentDiv,e,t,n)},e.prototype.isEmpty=function(e){return c.isNodeEmpty(this.core.contentDiv,e)},e.prototype.getContent=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);var n,o=this.core.contentDiv,r=o.innerHTML;return t&&(n=c.getSelectionPath(o,this.getSelectionRange()))&&(r+="\x3c!--"+JSON.stringify(n)+"--\x3e"),e&&(r=this.triggerPluginEvent(7,{content:r},!0).content),this.core.inDarkMode&&(r=a.default(r)),r},e.prototype.getTextContent=function(){return c.getTextContent(this.core.contentDiv)},e.prototype.setContent=function(e,t){void 0===t&&(t=!0);var n=this.core.contentDiv,o=!1;if(n.innerHTML!=e){n.innerHTML=e||"",o=!0;var r=n.lastChild;if(r&&8==r.nodeType)try{var i=JSON.parse(r.nodeValue);this.deleteNode(r);var a=c.getRangeFromSelectionPath(n,i);this.select(a)}catch(e){}}if(this.core.inDarkMode){var s=this.getDarkModeOptions(),l=u.convertContentToDarkMode(n,s&&s.onExternalContentTransform?s.onExternalContentTransform:void 0,!0);l&&(l(),o=!0)}t&&o&&this.triggerContentChangedEvent()},e.prototype.insertContent=function(e,t){if(e){var n=c.fromHtml(e,this.core.document);t&&t.insertOnNewLine&&n.length>0&&(n=[c.wrap(n)]);for(var o=0;o<n.length;o++)this.insertNode(n[o],t)}},e.prototype.getSelectionRange=function(){return this.core.api.getSelectionRange(this.core,!0)},e.prototype.hasFocus=function(){return this.core.api.hasFocus(this.core)},e.prototype.focus=function(){this.core.api.focus(this.core)},e.prototype.select=function(e,t,n,o){var r=e instanceof Range?e:c.createRange(e,t,n,o);return this.contains(r)&&this.core.api.selectRange(this.core,r)},e.prototype.getSelection=function(){return this.core.document.defaultView.getSelection()},e.prototype.saveSelectionRange=function(){this.core.cachedSelectionRange=this.core.api.getSelectionRange(this.core,!1)},e.prototype.restoreSavedRange=function(){this.select(this.core.cachedSelectionRange),this.core.cachedSelectionRange=null},e.prototype.getFocusedPosition=function(){var e=this.getSelection();if(this.contains(e&&e.focusNode))return new c.Position(e.focusNode,e.focusOffset);var t=this.getSelectionRange();return t?c.Position.getStart(t):null},e.prototype.getCursorRect=function(){var e=this.getFocusedPosition();return e&&c.getPositionRect(e)},e.prototype.getElementAtCursor=function(e,t){if(!t){var n=this.getFocusedPosition();t=n&&n.node}return t&&c.findClosestElementAncestor(t,this.core.contentDiv,e)},e.prototype.addDomEventHandler=function(e,t){var n=this;if(e instanceof Object){var o=Object.keys(e).map(function(t){return e[t]&&n.core.api.attachDomEvent(n.core,t,null,e[t])}).filter(function(e){return e});return function(){return o.forEach(function(e){return e()})}}return this.core.api.attachDomEvent(this.core,e,null,t)},e.prototype.triggerPluginEvent=function(e,t,n){var r=o({eventType:e},t);return this.core.api.triggerEvent(this.core,r,n),r},e.prototype.triggerEvent=function(e,t){void 0===t&&(t=!0),this.core.api.triggerEvent(this.core,e,t)},e.prototype.triggerContentChangedEvent=function(e,t){void 0===e&&(e="SetContent"),this.triggerPluginEvent(6,{source:e,data:t})},e.prototype.undo=function(){this.focus(),this.core.corePlugins.undo.undo()},e.prototype.redo=function(){this.focus(),this.core.corePlugins.undo.redo()},e.prototype.addUndoSnapshot=function(e,t){this.core.api.editWithUndo(this.core,e,t)},e.prototype.performAutoComplete=function(e,t){this.core.corePlugins.edit.performAutoComplete(e,t)},e.prototype.canUndo=function(){return this.core.corePlugins.undo.canUndo()},e.prototype.canRedo=function(){return this.core.corePlugins.undo.canRedo()},e.prototype.getDocument=function(){return this.core.document},e.prototype.getScrollContainer=function(){return this.core.scrollContainer},e.prototype.getCustomData=function(e,t,n){return this.core.api.getCustomData(this.core,e,t,n)},e.prototype.isInIME=function(){return this.core.corePlugins.domEvent.isInIME()},e.prototype.getDefaultFormat=function(){return this.core.defaultFormat},e.prototype.getBodyTraverser=function(e){return c.ContentTraverser.createBodyTraverser(this.core.contentDiv,e)},e.prototype.getSelectionTraverser=function(){return this.getSelectionRange()&&c.ContentTraverser.createSelectionTraverser(this.core.contentDiv,this.getSelectionRange())},e.prototype.getBlockTraverser=function(e){void 0===e&&(e=2);var t=this.getSelectionRange();return t&&c.ContentTraverser.createBlockTraverser(this.core.contentDiv,t,e)},e.prototype.getContentSearcherOfCursor=function(){var e=this.getSelectionRange();return e&&new c.PositionContentSearcher(this.core.contentDiv,c.Position.getStart(e))},e.prototype.runAsync=function(e){var t=this;(this.core.contentDiv.ownerDocument.defaultView||window).requestAnimationFrame(function(){!t.isDisposed()&&e&&e()})},e.prototype.setEditorDomAttribute=function(e,t){null===t?this.core.contentDiv.removeAttribute(e):this.core.contentDiv.setAttribute(e,t)},e.prototype.addContentEditFeature=function(e){this.core.corePlugins.edit.addFeature(e)},e.prototype.setDarkModeState=function(e){if(this.isDarkMode()!=e){var t=this.getContent(void 0,!0);this.core.inDarkMode=e,this.core.defaultFormat=l.calculateDefaultFormat(this.core.contentDiv,this.core.defaultFormat,this.core.inDarkMode),this.setContent(t),this.triggerPluginEvent(13,{changedToDarkMode:e})}},e.prototype.isDarkMode=function(){return this.core.inDarkMode},e.prototype.getDarkModeOptions=function(){return this.core.darkModeOptions},e}();t.default=d},function(e,t,n){"use strict";var o,r;Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=i.Browser.isFirefox?((o={}).enableObjectResizing=!1,o.enableInlineTableEditing=!1,o):i.Browser.isIE?((r={}).defaultParagraphSeparator="div",r.AutoUrlDetect=!1,r):{};t.default=function(){Object.keys(a).forEach(function(e){try{document.execCommand(e,!1,a[e])}catch(e){}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(60),r=n(62),i=n(63),a=n(64),s=n(67),l=n(68),u=n(69),c=n(111),d=n(0),f=n(72),p=n(112),h=n(113),v=n(114),g=n(115),m=n(73),y=n(116),E=n(117),w=n(118);function b(e){return{attachDomEvent:(e=e||{}).attachDomEvent||c.attachDomEvent,editWithUndo:e.editWithUndo||p.editWithUndo,focus:e.focus||h.focus,getCustomData:e.getCustomData||v.getCustomData,getSelectionRange:e.getSelectionRange||g.getSelectionRange,hasFocus:e.hasFocus||m.hasFocus,insertNode:e.insertNode||y.insertNode,select:e.select||E.select,selectRange:e.selectRange||E.selectRange,triggerEvent:e.triggerEvent||w.triggerEvent}}t.default=function(e,t){var n,c={undo:t.undo||new u.default,edit:new i.default,typeInContainer:new l.default,mouseUp:new s.default,domEvent:new r.default(t.disableRestoreSelectionOnFocus),firefoxTypeAfterLink:d.Browser.isFirefox&&new a.default,copyPlugin:!d.Browser.isIE&&new o.default},p=function(e,t){return[e.typeInContainer,e.edit,e.mouseUp].concat(t||[],[e.firefoxTypeAfterLink,e.undo,e.domEvent,e.copyPlugin]).filter(function(e){return!!e})}(c,t.plugins),h=p.filter(function(e){return e.onPluginEvent||e.willHandleEventExclusively});return{contentDiv:e,scrollContainer:t.scrollContainer||e,document:e.ownerDocument,defaultFormat:f.calculateDefaultFormat(e,t.defaultFormat,t.inDarkMode),corePlugins:c,currentUndoSnapshot:null,customData:(n=t.customData||{},Object.keys(n).reduce(function(e,t){return e[t]={value:n[t]},e},{})),cachedSelectionRange:null,plugins:p,eventHandlerPlugins:h,api:b(t.coreApiOverride),defaultApi:b(),inDarkMode:t.inDarkMode,darkModeOptions:t.darkModeOptions}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=1e7,i=function(){function e(e){void 0===e&&(e=r),this.maxSize=e,this.snapshots=o.createSnapshots(e)}return e.prototype.canMove=function(e){return o.canMoveCurrentSnapshot(this.snapshots,e)},e.prototype.move=function(e){return o.moveCurrentSnapsnot(this.snapshots,e)},e.prototype.addSnapshot=function(e){o.addSnapshot(this.snapshots,e)},e.prototype.clearRedo=function(){o.clearProceedingSnapshots(this.snapshots)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(70);t.attachDomEvent=function(e,t,n,r){var i=function(t){var i;(("keydown"==(i=t).type||"keypress"==i.type||"keyup"==i.type)&&o.default(t)||11==n)&&t.stopPropagation(),r&&r(t),null!=n&&e.api.triggerEvent(e,{eventType:n,rawEvent:t},!1)};return e.contentDiv.addEventListener(t,i),function(){e.contentDiv.removeEventListener(t,i)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.editWithUndo=function(e,t,n){var r,i=null!==e.currentUndoSnapshot;i||(e.currentUndoSnapshot=e.corePlugins.undo.addUndoSnapshot());try{if(t){var a=e.api.getSelectionRange(e,!0);r=t(a&&o.Position.getStart(a).normalize(),a&&o.Position.getEnd(a).normalize(),e.currentUndoSnapshot),i||e.corePlugins.undo.addUndoSnapshot()}}finally{i||(e.currentUndoSnapshot=null)}if(t&&n){var s={eventType:6,source:n,data:r};e.api.triggerEvent(e,s,!0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.focus=function(e){if(!(e.api.hasFocus(e)&&e.api.getSelectionRange(e,!1)||e.cachedSelectionRange&&e.api.selectRange(e,e.cachedSelectionRange,!0))){var t=o.getFirstLeafNode(e.contentDiv)||e.contentDiv;e.api.selectRange(e,o.createRange(t,0),!0)}e.cachedSelectionRange=null,e.api.hasFocus(e)||e.contentDiv.focus()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomData=function(e,t,n,o){return(e.customData[t]=e.customData[t]||{value:n?n():void 0,disposer:o}).value}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.getSelectionRange=function(e,t){var n=null;if(!t||e.api.hasFocus(e)){var r=e.document.defaultView.getSelection();if(r&&r.rangeCount>0){var i=r.getRangeAt(0);o.contains(e.contentDiv,i)&&(n=i)}}return!n&&t&&(n=e.cachedSelectionRange),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.insertNode=function(e,t,n){n=n||{position:2,insertOnNewLine:!1,updateCursor:!0,replaceSelection:!0};var r=e.contentDiv;switch(n.updateCursor&&e.api.focus(e),n.position){case 0:case 1:var i=0==n.position,a=o.getFirstLastBlockElement(r,i),s=void 0;if(a){var l=i?a.getStartNode():a.getEndNode();s=n.insertOnNewLine||3==l.nodeType||o.isVoidHtmlElement(l)?l.parentNode.insertBefore(t,i?l:l.nextSibling):l.insertBefore(t,i?l.firstChild:null)}else s=r.appendChild(t);s&&n.insertOnNewLine&&!o.isBlockElement(s)&&o.wrap(s);break;case 4:case 2:var u=function(e,t){var n=e.api.getSelectionRange(e,!0),o=null;return 4==t.position?(o=n,n=t.range):n&&(o=n.cloneRange()),{range:n,rangeToRestore:o}}(e,n),c=u.range,d=u.rangeToRestore;if(!c)return;n.replaceSelection&&!c.collapsed&&c.deleteContents();var f=o.Position.getStart(c),p=void 0;f=n.insertOnNewLine&&(p=o.getBlockElementAtNode(r,f.normalize().node))?new o.Position(p.getEndNode(),-3):o.adjustNodeInsertPosition(r,t,f);var h=11==t.nodeType?t.lastChild:t;(c=o.createRange(f)).insertNode(t),n.updateCursor&&h&&(d=o.createRange(new o.Position(h,-3).normalize())),e.api.selectRange(e,d);break;case 3:e.contentDiv.parentNode.insertBefore(t,r.nextSibling)}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(73);t.selectRange=function(e,t,n){var i,a=!0;if(!o.contains(e.contentDiv,t)||!(i=e.document.defaultView.getSelection()))return!1;if(i.rangeCount>0)try{var s=void 0;(n||o.Browser.isEdge)&&(s=1==i.rangeCount?i.getRangeAt(0):null)&&s.startContainer==t.startContainer&&s.startOffset==t.startOffset&&s.endContainer==t.endContainer&&s.endOffset==t.endOffset?a=!1:i.removeAllRanges()}catch(e){}return a&&i.addRange(t),r.hasFocus(e)||(e.cachedSelectionRange=t),t.collapsed&&e.corePlugins.domEvent.restorePendingFormatState(),!0},t.select=function(e,t,n,r,i){var a=t instanceof Range?t:o.createRange(t,n,r,i);return e.api.selectRange(e,a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerEvent=function(e,t,n){!n&&e.eventHandlerPlugins.some(function(e){return function(e,t){if(t.onPluginEvent&&t.willHandleEventExclusively&&t.willHandleEventExclusively(e))return t.onPluginEvent(e),!0;return!1}(t,e)})||e.eventHandlerPlugins.forEach(function(e){e.onPluginEvent&&e.onPluginEvent(t)})}},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});var r=((o={keypress:1,keydown:0,keyup:2,mousedown:4})[n(0).Browser.isIE?"textinput":"input"]=11,o);t.default=function(e){return Object.keys(r).map(function(t){return e.api.attachDomEvent(e,t,r[t])})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertContentToDarkMode=function(e,t,n){var o=[];return e instanceof HTMLElement?(o=Array.prototype.slice.call(e.getElementsByTagName("*")),n||o.unshift(e)):e instanceof DocumentFragment&&(o=Array.prototype.slice.call(e.querySelectorAll("*"))),o.length>0?function(){o.forEach(function(e){t?t(e):(e.style.color=null,e.style.backgroundColor=null)})}:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(34),r="GET_ELEMENT_AT_CURSOR_";t.default=function(e,t,n){return o.default(t,r+n,function(){return e.getElementAtCursor(n)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new FileReader;n.onload=function(t){e.isDisposed()||e.addUndoSnapshot(function(){var n=e.getDocument().createElement("img");n.src=t.target.result,n.style.maxWidth="100%",e.insertNode(n)},"Format")},n.readAsDataURL(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);function r(e){return e<=4?"120px":e<=6?"100px":"70px"}t.default=function(e,t,n,i){var a=e.getDocument(),s=a.createDocumentFragment(),l=a.createElement("table");s.appendChild(l),l.cellSpacing="0",l.cellPadding="1";for(var u=0;u<n;u++){var c=a.createElement("tr");l.appendChild(c);for(var d=0;d<t;d++){var f=a.createElement("td");c.appendChild(f),f.appendChild(a.createElement("br")),f.style.width=r(t)}}e.focus(),e.addUndoSnapshot(function(){var t=new o.VTable(l);t.applyFormat(i||{bgColorEven:"#FFF",bgColorOdd:"#FFF",topBorderColor:"#ABABAB",bottomBorderColor:"#ABABAB",verticalBorderColor:"#ABABAB"}),t.writeBack(),e.insertNode(s),e.runAsync(function(){return e.select(new o.Position(l,0).normalize())})},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.default=function(e,t){var n=e.getElementAtCursor("TD,TH");n&&e.addUndoSnapshot(function(r,i){var a=new o.VTable(n);a.edit(t),a.writeBack(),e.focus(),e.select(r,i)||e.select(e.contains(n)?n:a.getCurrentTd())},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.default=function(e,t,n){(n=n||e.getElementAtCursor("TABLE"))&&e.addUndoSnapshot(function(r,i){var a=new o.VTable(n);a.applyFormat(t),a.writeBack(),e.focus(),e.select(r,i)},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.default=function(e){e.focus(),e.addUndoSnapshot(function(t,n){e.queryElements("a[href]",1,o.unwrap),e.select(t,n)},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o,r){if(!t||!n)return!1;var i;if(i="string"==typeof t?(r=r||e.getContentSearcherOfCursor())&&r.getRangeFromText(t,o):t){var a=e.getSelectionRange();return a.collapsed&&i.endContainer==a.startContainer&&i.endOffset==a.startOffset&&(o=!0),e.insertNode(n,{position:4,updateCursor:o,replaceSelection:!0,insertOnNewLine:!1,range:i}),!0}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);t.default=function(e,t){var n="justifyLeft",r="left";1==t?(n="justifyCenter",r="center"):2==t&&(n="justifyRight",r="right"),e.addUndoSnapshot(function(){o.default(e,n),e.queryElements("[align]",1,function(e){return e.style.textAlign=r})},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(52);t.default=function(e,t){e.focus(),e.addUndoSnapshot(function(n,r){o.default(e,function(e){e.setAttribute("dir",0==t?"ltr":"rtl"),e.style.textAlign=0==t?"left":"right"}),e.select(n,r)},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.focus(),e.addUndoSnapshot(function(){e.queryElements("img",1,function(e){return e.setAttribute("alt",t)})},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(35);t.default=function(e,t){var n=0==t?"indent":"outdent";e.addUndoSnapshot(function(){var t;return e.focus(),e.getElementAtCursor("OL,UL")?t=o.default(e,n):(e.getDocument().execCommand(n,!1,null),e.queryElements("BLOCKQUOTE",1,function(e){t=t||e,e.style.marginTop="0px",e.style.marginBottom="0px"})),t},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(35);t.default=function(e){e.focus(),e.addUndoSnapshot(function(){return o.default(e,"insertUnorderedList")},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(35);t.default=function(e){e.focus(),e.addUndoSnapshot(function(){return o.default(e,"insertOrderedList")},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(74),r="blockquote",i=function(e){e.style.borderLeft="3px solid",e.style.borderColor="#C8C8C8",e.style.paddingLeft="10px",e.style.color="#666666"};t.default=function(e,t){o.default(e,r,t||i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(74),r=n(0),i="pre",a="code",s="CODE";function l(e){var t=r.wrap(e,a);return r.wrap(t,i)}function u(e){if(!e)return null;var t=e.childNodes[0];return 1==e.childNodes.length&&r.getTagOfNode(t)==s&&r.unwrap(t),r.unwrap(e)}t.default=function(e,t){o.default(e,i,t,l,u)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);t.default=function(e){o.default(e,"strikeThrough")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);t.default=function(e){o.default(e,"subscript")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);t.default=function(e){o.default(e,"superscript")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.default=function(e,t){t=Math.min(Math.max(Math.round(t),0),6),e.addUndoSnapshot(function(){e.focus();var n=!1;if(e.queryElements("H1,H2,H3,H4,H5,H6",1,function(t){n||(e.getDocument().execCommand("formatBlock",!1,"<DIV>"),n=!0);for(var o=e.getDocument().createElement("div");t.firstChild;)o.appendChild(t.firstChild);e.replaceNode(t,o)}),t>0){for(var r=e.getSelectionTraverser(),i=r?r.currentInlineElement:null;i;){var a=o.findClosestElementAncestor(i.getContainerNode());a&&(a.style.fontSize=""),i=r.getNextInlineElement()}e.getDocument().execCommand("formatBlock",!1,"<H"+t+">")}},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);t.default=function(e){e.addUndoSnapshot(function(){o.default(e,"justifyFull"),e.queryElements("[align]",1,function(e){return e.style.textAlign="justify"})},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(4),i=n(1);function a(e,t,n){return{winKey:e,macKey:t,action:n}}var s=[a(322,578,i.toggleBold),a(329,585,i.toggleItalic),a(341,597,i.toggleUnderline),a(346,602,function(e){return e.undo()}),a(345,1626,function(e){return e.redo()}),a(446,702,i.toggleBullet),a(447,703,i.toggleNumbering),a(1470,1726,function(e){return i.changeFontSize(e,0)}),a(1468,1724,function(e){return i.changeFontSize(e,1)})];function l(e){return r.cacheGetEventData(e,"DEFAULT_SHORT_COMMAND",function(){var t=e.rawEvent,n=0!=e.eventType||t.altKey?0:t.which|(t.metaKey&&512)|(t.shiftKey&&1024)|(t.ctrlKey&&256);return n&&s.filter(function(e){return(o.Browser.isMac?e.macKey:e.winKey)==n})[0]})}t.DefaultShortcut={allowFunctionKeys:!0,keys:[66,73,85,89,90,188,190,191],shouldHandleEvent:l,handleEvent:function(e,t){var n=l(e);n&&(n.action(t),e.rawEvent.preventDefault(),e.rawEvent.stopPropagation())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),r=n(0),i=r.Browser.isEdge?"<div><span><br></span></div>":"<div><br></div>",a={TD:"TABLE",TH:"TABLE",LI:"OL,UL"},s=Object.keys(a).join(",");function l(e,t){return o.cacheGetEventData(e,"FIRST_STRUCTURE",function(){var n=e.rawEvent.shiftKey?null:t.getElementAtCursor(s);if(n){var o=t.getSelectionRange();if(o&&o.collapsed&&r.isPositionAtBeginningOf(r.Position.getStart(o),n)&&!t.getBodyTraverser(n).getPreviousBlockElement())return t.getElementAtCursor(a[r.getTagOfNode(n)])}return null})}t.InsertLineBeforeStructuredNodeFeature={keys:[13],shouldHandleEvent:l,handleEvent:function(e,t){var n=l(e,t),o=r.fromHtml(i,t.getDocument())[0];t.addUndoSnapshot(function(){n.parentNode.insertBefore(o,n),"TABLE"==r.getTagOfNode(n)&&t.select(new r.Position(o,0).normalize())}),e.rawEvent.preventDefault()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),r=n(0);function i(e,t){return o.cacheGetEventData(e,"TABLECELL_FOR_TABLE_FEATURES",function(){var e=t.getFocusedPosition(),n=t.getElementAtCursor("TD,TH,LI",e.node);return"LI"==r.getTagOfNode(n)?null:n})}t.TabInTable={keys:[9],shouldHandleEvent:i,handleEvent:function(e,t){for(var n=e.rawEvent.shiftKey,o=i(e,t),a=new r.VTable(o),s=n?-1:1,l=a.row,u=a.col+s;;u+=s){if(u<0||u>=a.cells[l].length){if((l+=s)<0||l>=a.cells.length){t.select(a.table,n?-2:-3);break}u=n?a.cells[l].length-1:0}var c=a.getCell(l,u);if(c.td){t.select(c.td,0);break}}e.rawEvent.preventDefault()}},t.UpDownInTable={keys:[38,40],shouldHandleEvent:i,handleEvent:function(e,t){for(var n=i(e,t),o=new r.VTable(n),a=38==e.rawEvent.which,s=a?-1:1,l=null,u=e.rawEvent.shiftKey,c=t.getSelection(),d=c.anchorNode,f=c.anchorOffset,p=o.row;p>=0&&p<o.cells.length;p+=s){var h=o.getCell(p,o.col);if(h.td&&h.td!=n){l=h.td;break}}t.runAsync(function(){var e=t.getElementAtCursor();if(r.contains(o.table,e)&&!r.contains(n,e,!0)){var i=l?new r.Position(l,0):new r.Position(o.table,a?-2:-3);u?(i=1==i.node.nodeType&&r.isVoidHtmlElement(i.node)?new r.Position(i.node,i.isAtEnd?-3:-2):i,t.getSelection().setBaseAndExtent(d,f,i.node,i.offset)):t.select(i)}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(4),i=n(0);function a(e,t){var n=s(e,t);if(n){var r=n[0],a=i.getTagOfNode(r);"UL"==a?o.toggleBullet(t):"OL"==a&&o.toggleNumbering(t),t.focus(),e.rawEvent.preventDefault()}}function s(e,t){var n=r.cacheGetElementAtCursor(t,e,"LI,TABLE"),o=n&&"LI"==i.getTagOfNode(n)&&t.getElementAtCursor("UL,OL",n);return o?[o,n]:null}t.IndentWhenTab={keys:[9],shouldHandleEvent:function(e,t){return!e.rawEvent.shiftKey&&s(e,t)},handleEvent:function(e,t){o.setIndentation(t,0),e.rawEvent.preventDefault()}},t.OutdentWhenShiftTab={keys:[9],shouldHandleEvent:function(e,t){return e.rawEvent.shiftKey&&s(e,t)},handleEvent:function(e,t){o.setIndentation(t,1),e.rawEvent.preventDefault()}},t.MergeInNewLine={keys:[8],shouldHandleEvent:function(e,t){var n=r.cacheGetElementAtCursor(t,e,"LI"),o=t.getSelectionRange();return n&&o&&i.isPositionAtBeginningOf(i.Position.getStart(o),n)},handleEvent:function(e,t){r.cacheGetElementAtCursor(t,e,"LI").previousSibling?t.runAsync(function(){var e=t.getDocument().createElement("BR");t.insertNode(e),t.select(e,-3)}):a(e,t)}},t.OutdentWhenBackOn1stEmptyLine={keys:[8],shouldHandleEvent:function(e,t){var n=r.cacheGetElementAtCursor(t,e,"LI");return n&&i.isNodeEmpty(n)&&!n.previousSibling},handleEvent:a},t.OutdentWhenEnterOnEmptyLine={keys:[13],shouldHandleEvent:function(e,t){var n=r.cacheGetElementAtCursor(t,e,"LI");return!e.rawEvent.shiftKey&&n&&i.isNodeEmpty(n)},handleEvent:function(e,t){t.performAutoComplete(function(){return a(e,t)})}},t.AutoBullet={keys:[32],shouldHandleEvent:function(e,t){if(!s(e,t)){var n=r.cacheGetContentSearcher(e,t),o=n.getSubStringBefore(3);return["*","-","1."].indexOf(o)>=0&&!n.getNearestNonTextInlineElement()}return!1},handleEvent:function(e,t){t.runAsync(function(){t.performAutoComplete(function(){var e=t.getContentSearcherOfCursor(),n=e.getSubStringBefore(3),r=e.getRangeFromText(n,!0);r&&r.deleteContents();var a=t.getDocument().createElement("BR");(i.Browser.isChrome||i.Browser.isSafari||i.Browser.isIE11OrGreater)&&t.insertNode(a),0==n.indexOf("1.")?o.toggleNumbering(t):o.toggleBullet(t),t.deleteNode(a)})})}},t.getSmartOrderedList=function(e){return{keys:[2048],shouldHandleEvent:function(e,t){return e.data instanceof HTMLOListElement},handleEvent:function(t,n){var o=t.data,r=n.getElementAtCursor("OL",o.parentNode);if(r){var i=e&&e.length>0?e:["decimal"];o.style.listStyle=i[(i.indexOf(r.style.listStyle)+1)%i.length]}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),r=n(0),i="BLOCKQUOTE",a=[i,"LI","TD","TH"].join(",");function s(e,t){return o.cacheGetEventData(e,"QUOTE_CHILD",function(){var e=t.getElementAtCursor(a);if(e&&r.getTagOfNode(e)==i){var n=t.getFocusedPosition(),o=n&&t.getBlockElementAtNode(n.normalize().node);if(o){var s=o.getStartNode()==e?o.getStartNode():o.collapseToSingleElement();return r.isNodeEmpty(s)?s:null}}return null})}function l(e,t){t.addUndoSnapshot(function(){var n,o=s(e,t);r.getTagOfNode(o)==i&&(o=r.wrap([].slice.call(o.childNodes))),n=r.splitBalancedNodeRange(o),r.unwrap(n),t.select(o,0)}),e.rawEvent.preventDefault()}t.UnquoteWhenBackOnEmpty1stLine={keys:[8],shouldHandleEvent:function(e,t){var n=s(e,t);return n&&r.isNodeEmpty(n)&&!n.previousSibling},handleEvent:l},t.UnquoteWhenEnterOnEmptyLine={keys:[13],shouldHandleEvent:function(e,t){var n=s(e,t);return!e.rawEvent.shiftKey&&n&&r.isNodeEmpty(n)},handleEvent:function(e,t){return t.performAutoComplete(function(){return l(e,t)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(147),r=n(148),i=n(156),a=n(1),s=n(1),l=n(16),u=n(0),c=function(){function e(e,t){var n=this;this.onPaste=function(e){o.default(e,n.editor,function(e){n.pasteOriginal({snapshotBeforePaste:null,originalFormat:n.getCurrentFormat(),types:e.types,image:e.image,text:e.text,rawHtml:e.html,html:e.html?n.sanitizeHtml(e.html):i.default(e.text)})})},this.applyFormatting=function(e,t){return function(n){u.applyFormat(n,e,t)}},this.sanitizer=new l.HtmlSanitizer({attributeCallbacks:t})}return e.prototype.getName=function(){return"Paste"},e.prototype.initialize=function(e){this.editor=e,this.pasteDisposer=e.addDomEventHandler("paste",this.onPaste)},e.prototype.dispose=function(){this.pasteDisposer(),this.pasteDisposer=null,this.editor=null},e.prototype.pasteOriginal=function(e){this.paste(e,this.detectPasteOption(e))},e.prototype.pasteText=function(e){this.paste(e,1)},e.prototype.pasteAndMergeFormat=function(e){this.paste(e,this.detectPasteOption(e),!0)},e.prototype.detectPasteOption=function(e){return e.text||!e.image?0:2},e.prototype.paste=function(e,t,n){var o=this.editor.getDocument(),r=o.createDocumentFragment();if(0==t)for(var i=e.html,a=0,s=u.fromHtml(i,o);a<s.length;a++){var l=s[a];n&&this.applyToElements(l,this.applyFormatting(e.originalFormat,this.editor.isDarkMode())),r.appendChild(l)}var c=this.editor.triggerPluginEvent(8,{clipboardData:e,fragment:r,pasteOption:t},!0);this.internalPaste(c)},e.prototype.internalPaste=function(e){var t=this,n=e.clipboardData,o=e.fragment,r=e.pasteOption;this.editor.focus(),this.editor.addUndoSnapshot(function(){switch(null==n.snapshotBeforePaste?n.snapshotBeforePaste=t.editor.getContent(!1,!0):t.editor.setContent(n.snapshotBeforePaste),r){case 0:t.editor.insertNode(o);break;case 1:var e=i.default(n.text);t.editor.insertContent(e);break;case 2:s.insertImage(t.editor,n.image)}return n},"Paste")},e.prototype.applyToElements=function(e,t){for(var n=u.getFirstLeafNode(e),o=[];n;)3==n.nodeType&&n.parentNode&&o.indexOf(n.parentNode)<0&&o.push(n.parentNode),n=u.getNextLeafSibling(e,n);o.push(e);for(var r=0,i=o;r<i.length;r++){t(i[r])}},e.prototype.getCurrentFormat=function(){var e=a.getFormatState(this.editor);return e?{fontFamily:e.fontName,fontSize:e.fontSize,textColor:e.textColor,backgroundColor:e.backgroundColor,bold:e.isBold,italic:e.isItalic,underline:e.isUnderline}:{}},e.prototype.sanitizeHtml=function(e){var t=l.htmlToDom(e,!0,r.default);if(t&&t.body){this.sanitizer.convertGlobalCssToInlineCss(t);var n=this.editor.getSelectionRange(),o=n&&u.Position.getStart(n).normalize().element,i=l.getInheritableStyles(o);return this.sanitizer.sanitize(t.body,i),t.body.innerHTML}return""},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r='<div contenteditable style="width: 1px; height: 1px; overflow: hidden; position: fixed; top: 0; left; 0; -webkit-user-select: text"></div>';t.default=function(e,t,n){o.extractClipboardEvent(e,function(e){void 0===e.html?function(e,t){var n=e.getSelectionRange(),i=function(e){var t=e.getCustomData("PasteDiv",function(){var t=o.fromHtml(r,e.getDocument())[0];return e.insertNode(t,{position:3,updateCursor:!1,replaceSelection:!1,insertOnNewLine:!1}),t},function(e){e.parentNode.removeChild(e)});return t.style.display="",t}(e);i.focus(),e.runAsync(function(){e.select(n),t(i.innerHTML),i.style.display="none",i.innerHTML=""})}(t,function(t){e.html=t,n(e)}):n(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(149),r=n(152),i=n(0),a=n(16),s="xmlns:w",l="urn:schemas-microsoft-com:office:word",u="xmlns:x",c="urn:schemas-microsoft-com:office:excel",d=/<\/\s*td\s*>((?!<\/\s*tr\s*>)[\s\S])*$/i,f=/<\/\s*tr\s*>((?!<\/\s*table\s*>)[\s\S])*$/i,p=/<tr[^>]*>[^<]*/i,h=/<table[^>]*>[^<]*/i;t.default=function(e,t){var n=a.splitWithFragment(t),v=n[0],g=n[1],m=e&&e.body&&e.querySelector("html");if("HTML"==i.getTagOfNode(m))if(m.getAttribute(s)==l)e.body.innerHTML=v,r.default(e);else if(m.getAttribute(u)==c){if(v.match(d)){var y=g.match(p);v=(y?y[0]:"<TR>")+v+"</TR>"}if(v.match(f)){var E=g.match(h);v=(E?E[0]:"<TABLE>")+v+"</TABLE>"}e.body.innerHTML=v,o.default(e)}else e.body.innerHTML=v}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(16);t.default=function(e){var t=new o.HtmlSanitizer({styleCallbacks:{border:function(e,t){return"none"!=e||"none"!=t.style.border}},additionalAllowAttributes:["class"]});t.sanitize(e.body);var n=e.createElement("style");e.body.appendChild(n),n.innerHTML="td {border: solid 1px #d4d4d4}",t.convertGlobalCssToInlineCss(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(75),r=n(76),i=n(77),a=n(151),s=function(){function e(e){e=e||{},this.elementCallbacks=i.cloneObject(e.elementCallbacks),this.styleCallbacks=a.getStyleCallbacks(e.styleCallbacks),this.attributeCallbacks=i.cloneObject(e.attributeCallbacks),this.allowedTags=a.getAllowedTags(e.additionalAllowedTags),this.allowedAttributes=a.getAllowedAttributes(e.additionalAllowAttributes),this.defaultStyleValues=a.getDefaultStyleValues(e.additionalDefaultStyleValues),this.additionalGlobalStyleNodes=e.additionalGlobalStyleNodes||[],this.allowPreserveWhiteSpace=e.allowPreserveWhiteSpace}return e.convertInlineCss=function(t,n){return new e({additionalGlobalStyleNodes:n}).exec(t,!0)},e.sanitizeHtml=function(t,n){var r=new e(n=n||{}),i=n.currentElementOrStyle instanceof HTMLElement?o.default(n.currentElementOrStyle):n.currentElementOrStyle;return r.exec(t,n.convertCssOnly,n.preserveFragmentOnly,i)},e.prototype.exec=function(e,t,n,o){var i=r.default(e,n);return i&&(this.convertGlobalCssToInlineCss(i),t||this.sanitize(i.body,o)),i&&i.body&&i.body.innerHTML||""},e.prototype.sanitize=function(e,t){if(!e)return"";t=i.cloneObject(t,o.default(null)),this.processNode(e,t,{})},e.prototype.convertGlobalCssToInlineCss=function(e){for(var t=l(e.querySelectorAll("style")),n=0,o=this.additionalGlobalStyleNodes.reverse().map(function(e){return e.sheet}).concat(t.map(function(e){return e.sheet}).reverse()).filter(function(e){return e});n<o.length;n++)for(var r=o[n],i=function(t){var n=r.cssRules[t],o=n&&n.style?n.style.cssText:null;if(n.type!=CSSRule.STYLE_RULE||!o||!n.selectorText)return"continue";for(var i=0,a=n.selectorText.split(",");i<a.length;i++){var s=a[i];if(s&&s.trim()&&!(s.indexOf(":")>=0))l(e.querySelectorAll(s)).forEach(function(e){return e.setAttribute("style",o+(e.getAttribute("style")||""))})}},a=r.cssRules.length-1;a>=0;a--)i(a);t.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})},e.prototype.processNode=function(e,t,n){var o=e.nodeType,r=o==Node.ELEMENT_NODE,a=o==Node.TEXT_NODE,s=e,l=r?s.tagName.toUpperCase():"";if(r&&!this.allowElement(s,l,n)||a&&/^[\r\n]*$/g.test(e.nodeValue)&&!t.insidePRE||!r&&!a)e.parentNode.removeChild(e);else if(a&&!this.allowPreserveWhiteSpace&&"pre"==t["white-space"])e.nodeValue=e.nodeValue.replace(/^ /gm," ").replace(/ {2}/g,"  ");else if(r){var u=i.cloneObject(t);this.processAttributes(s,n),this.processCss(s,l,u,n),"PRE"==l&&(u.insidePRE="true");for(var c=s.firstChild,d=void 0;c;c=d)d=c.nextSibling,this.processNode(c,u,n)}},e.prototype.processCss=function(e,t,n,o){var r=this,i=e.getAttributeNode("style");if(i){var a=i.value.split(";"),s=a.filter(function(t){var i;if(!t||""==t.trim()||2!=(i=t.split(":")).length)return!1;var a=i[0].trim().toLowerCase(),s=i[1].trim().toLowerCase(),l=r.styleCallbacks[a],u=null!=n[a],c=(!l||l(s,e,o))&&"inherit"!=s&&s.indexOf("expression")<0&&"-"!=a.substr(0,1)&&r.defaultStyleValues[a]!=s&&(u&&s!=n[a]||!u&&"initial"!=s&&"normal"!=s);return c&&u&&(n[a]=s),c&&(r.allowPreserveWhiteSpace||"white-space"!=a)});a.length!=s.length&&(s.length>0?e.setAttribute("style",s.map(function(e){return e.trim()}).join("; ")):e.removeAttribute("style"))}},e.prototype.processAttributes=function(e,t){for(var n=e.attributes.length-1;n>=0;n--){var o=e.attributes[n],r=o.name.toLowerCase().trim(),i=o.value,a=this.attributeCallbacks[r];a?i=a(i,e,t):this.allowedAttributes.indexOf(r)<0&&(i=null),null==i||i.toLowerCase().indexOf("script:")>=0?e.removeAttribute(r):o.value=i}},e.prototype.allowElement=function(e,t,n){var o=this.elementCallbacks[t];return o?o(e,n):this.allowedTags.indexOf(t)>=0||t.indexOf(":")>0},e}();function l(e){return[].slice.call(e)}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(77),r="BODY,H1,H2,H3,H4,H5,H6,FORM,P,BR,NOBR,HR,ACRONYM,ABBR,ADDRESS,B,BDI,BDO,BIG,BLOCKQUOTE,CENTER,CITE,CODE,DEL,DFN,EM,FONT,I,INS,KBD,MARK,METER,PRE,PROGRESS,Q,RP,RT,RUBY,S,SAMP,SMALL,STRIKE,STRONG,SUB,SUP,TEMPLATE,TIME,TT,U,VAR,WBR,XMP,INPUT,TEXTAREA,BUTTON,SELECT,OPTGROUP,OPTION,LABEL,FIELDSET,LEGEND,DATALIST,OUTPUT,IMG,MAP,AREA,CANVAS,FIGCAPTION,FIGURE,PICTURE,A,NAV,UL,OL,LI,DIR,UL,DL,DT,DD,MENU,MENUITEM,TABLE,CAPTION,TH,TR,TD,THEAD,TBODY,TFOOT,COL,COLGROUP,DIV,SPAN,HEADER,FOOTER,MAIN,SECTION,ARTICLE,ASIDE,DETAILS,DIALOG,SUMMARY,DATA".split(","),i="accept,align,alt,checked,cite,color,cols,colspan,contextmenu,coords,datetime,default,dir,dirname,disabled,download,face,headers,height,hidden,high,href,hreflang,ismap,kind,label,lang,list,low,max,maxlength,media,min,multiple,open,optimum,pattern,placeholder,readonly,rel,required,reversed,rows,rowspan,scope,selected,shape,size,sizes,span,spellcheck,src,srclang,srcset,start,step,style,tabindex,target,title,translate,type,usemap,value,width,wrap".split(","),a={"background-color":"transparent","border-bottom-color":"rgb(0, 0, 0)","border-bottom-style":"none","border-bottom-width":"0px","border-image-outset":"0","border-image-repeat":"stretch","border-image-slice":"100%","border-image-source":"none","border-image-width":"1","border-left-color":"rgb(0, 0, 0)","border-left-style":"none","border-left-width":"0px","border-right-color":"rgb(0, 0, 0)","border-right-style":"none","border-right-width":"0px","border-top-color":"rgb(0, 0, 0)","border-top-style":"none","border-top-width":"0px","outline-color":"transparent","outline-style":"none","outline-width":"0px",overflow:"visible","text-decoration":"none","-webkit-text-stroke-width":"0px","word-wrap":"break-word","margin-left":"0px","margin-right":"0px",padding:"0px","padding-top":"0px","padding-left":"0px","padding-right":"0px","padding-bottom":"0px",border:"0px","border-top":"0px","border-left":"0px","border-right":"0px","border-bottom":"0px","vertical-align":"baseline",float:"none"};function s(){return null}function l(e,t){var n=t.tagName;return!("LI"==n||"DIV"==n)}function u(e){return e.filter(function(e,t,n){return n.indexOf(e)==t})}t.getAllowedTags=function(e){return u(r.concat(e||[])).map(function(e){return e.toUpperCase()})},t.getAllowedAttributes=function(e){return u(i.concat(e||[])).map(function(e){return e.toLocaleLowerCase()})},t.getDefaultStyleValues=function(e){var t=o.cloneObject(a);return e&&Object.keys(e).forEach(function(n){var o=e[n];null!=o?t[n]=o:delete t[n]}),t},t.getStyleCallbacks=function(e){var t=o.cloneObject(e);return t.position=t.position||s,t.width=t.width||l,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(153),r=n(154),i=n(16),a=n(155);t.default=function(e){var t;new i.HtmlSanitizer({elementCallbacks:(t={},t["O:P"]=function(){return!1},t),additionalAllowAttributes:["class"]}).sanitize(e.body);var n=o.createWordConverter(),s=e.querySelectorAll("p");s.length>0&&(n.wordConverterArgs=r.createWordConverterArguments(s),a.processNodesDiscovery(n)&&a.processNodeConvert(n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(78);t.createWordConverter=function(){return{nextUniqueId:1,numBulletsConverted:0,numNumberedConverted:0,wordConverterArgs:null,customData:o.createCustomData()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(79);t.createWordConverterArguments=function(e){return{nodes:e,currentIndex:0,lists:{},listItems:[],currentListIdsByLevels:[o.createLevelLists()],lastProcessedItem:null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(79),r=n(78),i=n(0),a=5,s="UniqueListId",l="mso-list",u=/[\n|\r]/gi;function c(e,t,n,o){var a=function e(t,n,o){var r=null;var a;1==n?a=g(t):(r=e(t,n-1,null),a=r.lastChild);if(a&&1==a.nodeType){var s=i.getTagOfNode(a);if("UL"==s||"OL"==s)return a}var l=t.ownerDocument.createElement(o?o.tagName:"UL");1==n?t.parentNode.insertBefore(l,t):r.appendChild(l);return l}(t,n.level,o),l=r.getObject(e.customData,a,s);if(l&&l!=n.uniqueListId||!l&&a.firstChild){var u=t.ownerDocument.createElement(o.tagName);a.parentNode.insertBefore(u,a.nextSibling),a=u}return r.setObject(e.customData,a,s,n.uniqueListId),function(e,t,n){if(n.tagName!=i.getTagOfNode(t)){var o=t.ownerDocument.createElement(n.tagName);for(r.setObject(e.customData,o,s,r.getObject(e.customData,t,s));t.firstChild;)o.appendChild(t.firstChild);t.parentNode.insertBefore(o,t),t.parentNode.removeChild(t),t=o}return t}(e,a,o)}function d(e,t){for(var n=[],o=e.firstChild;o;o=o.nextSibling)1==o.nodeType&&t>1&&d(o,t-1),(E(o=v(o,!0))||y(o))&&n.push(o);n.forEach(function(t){return e.removeChild(t)})}function f(e){if(1==e.nodeType){var t=w(e,l);if(t&&t.length>0)try{var n=t.split(" ");if(3==n.length)return{level:parseInt(n[1].substr("level".length)),wordListId:t,originalNode:e,uniqueListId:0}}catch(e){}}return null}function p(e){return["o","·","§","-"].indexOf(e)>=0}function h(e,t){for(var n=null,o=e.firstChild;!n&&o;)y(o=v(o,!0))?0==(n=o.textContent.trim()).length&&(n="o"):1==o.nodeType&&t>1&&(n=h(o,t-1)),o=o.nextSibling;return n}function v(e,t){if(8==e.nodeType){var n=e.data;if(n&&"[if !supportlists]"==n.trim().toLowerCase()){for(var o=e,r=null,i=0;i<4&&(o=m(o));i++)if(8==o.nodeType&&(n=o.data)&&"[endif]"==n.trim().toLowerCase()){r=o;break}if(r){var a=e.ownerDocument.createElement("span");for(a.setAttribute("style","mso-list: ignore"),o=m(e);o!=r;)o=o.nextSibling,a.appendChild(o.previousSibling);r.parentNode.insertBefore(a,r),t&&(e.parentNode.removeChild(e),r.parentNode.removeChild(r)),e=a}}}return e}function g(e){var t=e;do{t=t.previousSibling}while(t&&b(t));return t}function m(e){var t=e;do{t=t.nextSibling}while(t&&b(t));return t}function y(e){if(1==e.nodeType){var t=w(e,l);if(t&&t.length>0&&"ignore"==t.trim().toLowerCase())return!0}return!1}function E(e){return"SPAN"==i.getTagOfNode(e)&&!e.firstChild}function w(e,t){var n=e.getAttribute("style");if(n&&n.length>0&&n.indexOf(t)>=0)for(var o=n.split(";"),r=0;r<o.length;r++){var i=o[r].split(":");if(2==i.length&&i[0].trim()==t)return i[1].trim()}return null}function b(e){if(!e)return!0;if(3==e.nodeType){var t=e.nodeValue;return 0==(t=t.replace(u,"")).trim().length}var n=i.getTagOfNode(e);return e.firstChild==e.lastChild&&("SPAN"==n||"FONT"==n)&&b(e.firstChild)}function C(e){for(var t=0;t<e.currentListIdsByLevels.length;t++){var n=e.currentListIdsByLevels[t];n&&(n.currentUniqueListId=-1)}}t.processNodesDiscovery=function(e){for(var t,n=e.wordConverterArgs;n.currentIndex<n.nodes.length;){var r=n.nodes.item(n.currentIndex),i=f(r);if(i){var s=n.currentListIdsByLevels[i.level-1]||o.createLevelLists();n.currentListIdsByLevels[i.level-1]=s,n.lastProcessedItem&&g(r)!=n.lastProcessedItem&&C(n);var l=s.listsMetadata[i.wordListId];if(l){if(!l.ignore&&1==l.numberOfItems){var u=h(r,a);l.tagName=l.firstFakeBullet==u?"UL":"OL"}}else{var c=h(r,a);l={numberOfItems:0,uniqueListId:e.nextUniqueId++,firstFakeBullet:c,ignore:!c||0==c.length,tagName:(t=c,p(t)?"UL":"OL")},s.listsMetadata[i.wordListId]=l,n.lists[l.uniqueListId.toString()]=l}i.uniqueListId=l.uniqueListId,l.ignore||"OL"==l.tagName&&l.numberOfItems>0&&s.currentUniqueListId!=i.uniqueListId?(l.ignore=!0,n.currentListIdsByLevels[0].currentUniqueListId=-1,n.currentListIdsByLevels=n.currentListIdsByLevels.slice(0,1)):(n.currentListIdsByLevels.length>i.level&&(n.currentListIdsByLevels=n.currentListIdsByLevels.slice(0,i.level)),s.currentUniqueListId=i.uniqueListId,n.listItems.push(i),l.numberOfItems++),n.lastProcessedItem=r}else{var d=n.lastProcessedItem;if(d&&g(r)==d&&r.tagName==d.tagName&&r.className==d.className){for(d.appendChild(d.ownerDocument.createElement("br")),d.appendChild(d.ownerDocument.createElement("br"));null!=r.firstChild;)d.appendChild(r.firstChild);r.parentNode.removeChild(r)}}n.currentIndex++}return n.listItems.length>0},t.processNodeConvert=function(e){var t=e.wordConverterArgs;for(t.currentIndex=0;t.currentIndex<t.listItems.length;){var n=t.listItems[t.currentIndex],o=n.originalNode,r=t.lists[n.uniqueListId.toString()];if(!r.ignore){var i=c(e,o,n,r);if(i){d(o,a);for(var s=o.ownerDocument.createElement("LI");o.firstChild;)s.appendChild(o.firstChild);i.appendChild(s),o.parentNode.removeChild(o),"UL"==r.tagName?e.numBulletsConverted++:e.numNumberedConverted++}}t.currentIndex++}return e.numBulletsConverted>0||e.numNumberedConverted>0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r="&#8203;";t.default=function(e){var t=(e=(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/^ /gm,"&nbsp;").replace(/\r/g,"")).split("\n");if(2==t.length)e="<span>"+t[0]+"<br></span><span>"+t[1]+"</span>";else if(t.length>2){e="";var n=o.Browser.isIEOrEdge?r:"<br>";t.forEach(function(o,r){0==r?e+="<span>"+o+"<br></span>":r==t.length-1?e+="<span>"+o+"</span>":e+="<div>"+o+n+"</div>"})}return e=e.replace(/\s\s/g," &nbsp;")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=new RegExp("<span[^>]*id=['\"]?_rooster_watermarkSpan['\"]?[^>]*>[^<]*</span>","ig"),i=function(){function e(e,t){var n=this;this.watermark=e,this.format=t,this.handleWatermark=function(){n.showHideWatermark(!1)},this.format=this.format||{fontSize:"14px",textColor:"#aaa"}}return e.prototype.getName=function(){return"Watermark"},e.prototype.initialize=function(e){this.editor=e,this.showHideWatermark(!1),this.disposer=this.editor.addDomEventHandler({focus:this.handleWatermark,blur:this.handleWatermark})},e.prototype.dispose=function(){this.disposer(),this.disposer=null,this.hideWatermark(),this.editor=null},e.prototype.onPluginEvent=function(e){6==e.eventType?this.showHideWatermark("SetContent"==e.source):7==e.eventType&&this.isWatermarkShowing&&this.removeWartermarkFromHtml(e)},e.prototype.showHideWatermark=function(e){this.editor.hasFocus()&&(e||this.isWatermarkShowing)?(this.hideWatermark(),this.editor.focus()):this.editor.hasFocus()||!e&&this.isWatermarkShowing||!this.editor.isEmpty(!0)||this.showWatermark()},e.prototype.showWatermark=function(){var e=this.editor.getDocument(),t=o.wrap(e.createTextNode(this.watermark),'<span id="_rooster_watermarkSpan"></span>');o.applyFormat(t,this.format,this.editor.isDarkMode()),this.editor.insertNode(t,{position:0,updateCursor:!1,replaceSelection:!1,insertOnNewLine:!1}),this.isWatermarkShowing=!0},e.prototype.hideWatermark=function(){var e=this;this.editor.queryElements('span[id="_rooster_watermarkSpan"]',function(t){var n=t.parentNode;e.editor.deleteNode(t),e.editor.contains(n)&&"DIV"==o.getTagOfNode(n)&&!n.firstChild&&n.appendChild(e.editor.getDocument().createElement("BR"))}),this.isWatermarkShowing=!1},e.prototype.removeWartermarkFromHtml=function(e){var t=e.content;t=t.replace(r,""),e.content=t},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(){var e=this;this.pageX=-1,this.onMouseOver=function(t){var n=t.srcElement||t.target;e.pageX<0&&n&&("TD"==n.tagName||"TH"==n.tagName)&&n!=e.td&&(e.td=n,e.calcAndShowHandle())},this.onMouseDown=function(t){e.editor&&!e.editor.isDisposed()&&(e.pageX=t.pageX,e.initialPageX=t.pageX,e.attachMouseEvents(),e.getResizeHandle().style.borderWidth="0 1px",e.cancelEvent(t))},this.onMouseMove=function(t){e.adjustHandle(t.pageX),e.cancelEvent(t)},this.onMouseUp=function(t){e.detachMouseEvents(),e.getResizeHandle().style.borderWidth="0";var n=e.editor.getElementAtCursor("TABLE",e.td),o=parseInt(n.cellPadding);if(o=isNaN(o)?0:o,t.pageX!=e.initialPageX){var r=e.td.clientWidth-2*o+(t.pageX-e.initialPageX)*(e.isRtl(n)?-1:1);e.editor.addUndoSnapshot(function(t,n){e.setTableColumnWidth(r+"px"),e.editor.select(t,n)},"Format")}e.pageX=-1,e.calcAndShowHandle(),e.editor.focus(),e.cancelEvent(t)}}return e.prototype.initialize=function(e){this.editor=e,this.onMouseOverDisposer=this.editor.addDomEventHandler("mouseover",this.onMouseOver)},e.prototype.getName=function(){return"TableResize"},e.prototype.dispose=function(){this.detachMouseEvents(),this.editor=null,this.onMouseOverDisposer()},e.prototype.onPluginEvent=function(e){this.td&&(0==e.eventType||6==e.eventType||4==e.eventType&&!this.clickIntoCurrentTd(e))&&(this.td=null,this.calcAndShowHandle())},e.prototype.clickIntoCurrentTd=function(e){var t=e.rawEvent.target;return t instanceof Node&&o.contains(this.td,t,!0)},e.prototype.calcAndShowHandle=function(){if(this.td){var e=this.editor.getElementAtCursor("TR",this.td),t=this.editor.getElementAtCursor("TABLE",e);if(e&&t){var n=this.getPosition(t),o=n[0],r=n[1],i=this.getResizeHandle();o+=this.td.offsetLeft+(this.isRtl(t)?0:this.td.offsetWidth-6),i.style.display="",i.style.top=r+"px",i.style.height=t.offsetHeight+"px",i.style.left=o+"px"}}else this.getResizeHandle().style.display="none"},e.prototype.adjustHandle=function(e){var t=this.getResizeHandle();t.style.left=t.offsetLeft+e-this.pageX+"px",this.pageX=e},e.prototype.getPosition=function(e){var t=e.offsetParent,n=t?this.getPosition(t):[0,0],o=n[0],r=n[1];return[o+e.offsetLeft-e.scrollLeft,r+e.offsetTop-e.scrollTop]},e.prototype.getResizeHandle=function(){var e=this;return this.editor.getCustomData("TABLE_RESIZE_HANDLE",function(){var t=e.editor.getDocument(),n=o.fromHtml('<div style="position: fixed; cursor: col-resize; width: 6px; border: solid 0 #C6C6C6;"></div>',t)[0];return e.editor.insertNode(n,{position:3,updateCursor:!1,replaceSelection:!1,insertOnNewLine:!1}),n.addEventListener("mousedown",e.onMouseDown),n},function(t){t.removeEventListener("mousedown",e.onMouseDown),t.parentNode.removeChild(t)})},e.prototype.cancelEvent=function(e){e.stopPropagation(),e.preventDefault()},e.prototype.attachMouseEvents=function(){if(this.editor&&!this.editor.isDisposed()){var e=this.editor.getDocument();e.addEventListener("mousemove",this.onMouseMove,!0),e.addEventListener("mouseup",this.onMouseUp,!0)}},e.prototype.detachMouseEvents=function(){if(this.editor&&!this.editor.isDisposed()){var e=this.editor.getDocument();e.removeEventListener("mousemove",this.onMouseMove,!0),e.removeEventListener("mouseup",this.onMouseUp,!0)}},e.prototype.setTableColumnWidth=function(e){var t=this,n=new o.VTable(this.td);return n.table.style.width="",n.table.width="",n.forEachCellOfCurrentColumn(function(n){n.td&&(n.td.style.width=n.td==t.td?e:"")}),n.writeBack(),this.editor.contains(this.td)?this.td:n.getCurrentTd()},e.prototype.isRtl=function(e){return"rtl"==o.getComputedStyle(e,"direction")},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),r=function(e,t,n){return{sourceString:e,replacementHTML:t,matchSourceCaseSensitive:n}},i=[r(":)","🙂",!0),r(";)","😉",!0),r(":O","😲",!0),r(":o","😯",!0),r("<3","❤️",!0)],a=function(){function e(e){void 0===e&&(e=i),this.updateReplacements(e)}return e.prototype.updateReplacements=function(e){var t;this.replacements=e,this.longestReplacementLength=(t=this.replacements,Math.max.apply(null,t.map(function(e){return e.sourceString.length}))),this.replacementEndCharacters=function(e){for(var t=new Set,n=0,o=e;n<o.length;n++){var r=o[n],i=r.sourceString;if(0!=i.length){var a=i[i.length-1];r.matchSourceCaseSensitive?t.add(a):(t.add(a.toLocaleLowerCase()),t.add(a.toLocaleUpperCase()))}}return t}(this.replacements)},e.prototype.getName=function(){return"CustomReplace"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null},e.prototype.onPluginEvent=function(e){var t=this;if(!this.editor.isInIME()&&11==e.eventType&&((!e.rawEvent.data||this.replacementEndCharacters.has(e.rawEvent.data))&&null!=this.editor.getSelectionRange())){var n=o.cacheGetContentSearcher(e,this.editor),r=n.getSubStringBefore(this.longestReplacementLength),i=this.getMatchingReplacement(r);if(null!=i){var a=n.getSubStringBefore(i.sourceString.length),s=n.getRangeFromText(a,!0),l=document.createElement("span");l.innerHTML=i.replacementHTML;var u=1==l.childNodes.length?l.childNodes[0]:l;this.editor.performAutoComplete(function(){s.deleteContents(),s.insertNode(u),t.editor.select(u,-1)})}}},e.prototype.getMatchingReplacement=function(e){if(0==e.length)return null;for(var t=e.toLocaleLowerCase(),n=0,o=this.replacements;n<o.length;n++){var r=o[n],i=r.matchSourceCaseSensitive?[e,r.sourceString]:[t,r.sourceString.toLocaleLowerCase()],a=i[0],s=i[1];if(a.substring(a.length-s.length)==s)return r}return null},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(161),r=n(21),i=n(80);t.default=function(e,t,n,a){var s=[new r.HyperLink,new r.Paste,new r.ContentEdit,new o.default];n&&(s=s.concat(n));var l={plugins:s,initialContent:a,defaultFormat:{}};return new i.EditorWithGui(e,t,l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),r=function(){function e(){}return e.prototype.getName=function(){return"TabPressPlugin"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null},e.prototype.getEditor=function(){return this.editor},e.prototype.isInListElement=function(e){return null!=o.cacheGetElementAtCursor(this.editor,e,"LI,TABLE")},e.prototype.onPluginEvent=function(e){if(0==e.eventType&&9==e.rawEvent.keyCode&&!this.isInListElement(e)&&(e.rawEvent.preventDefault(),!e.rawEvent.shiftKey)){var t=document.createElement("SPAN");t.appendChild(document.createTextNode("\t")),t.style.whiteSpace="pre",this.editor.insertNode(t)}},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(163),r=n(164),i=n(165),a=n(166),s=n(167),l=n(168),u=n(169),c=n(170),d=n(171),f=n(172),p=n(173),h=n(174),v=n(175),g=n(176),m=n(178),y=n(179),E=n(180),w=n(181),b=n(182),C=n(183),S=n(184),O=n(185),_=n(186),P=n(4),L=function(){function e(e,t,n){var L=this;void 0===n&&(n={}),this.contentDiv=e,this.contentDiv.style.position="relative",this.toolbarDiv=document.createElement("div"),this.toolbarDiv.className="roosterjs-toolbar",this.workspaceDiv=document.createElement("div"),this.workspaceDiv.className="roosterjs-workspace",this.editorWrapperDiv=document.createElement("div"),this.editorWrapperDiv.className="roosterjs-wrapper-editor",this.editorDiv=document.createElement("div"),this.editorDiv.className="roosterjs-editor",this.editorWrapperDiv.appendChild(this.editorDiv),this.workspaceDiv.appendChild(this.editorWrapperDiv),this.contentDiv.appendChild(this.toolbarDiv),this.contentDiv.appendChild(this.workspaceDiv);var T=new d.default;T.setEditorGui(this),n.plugins.push(T);var N=new Array;N.push(new y.default("newpage")),N.push(new g.default(t,"merge-field"));for(var x=0,D=N;x<D.length;x++){(k=D[x]).initialize(this)}if(this.editor=new P.Editor(this.editorDiv,n),this.toolbar=new Array,this.toolbar.push(new s.default(this.editor),new v.default(this.editor),new S.default(this.editor),new b.default(this.editor),new C.default(this.editor),new w.default(this.editor),new f.default(this.editor),new w.default(this.editor),new p.default(this.editor),new w.default(this.editor),new l.default(this.editor),new m.default(this.editor),new c.default(this.editor),new h.default(this.editor),new w.default(this.editor),new i.default(this.editor),new o.default(this.editor),new a.default(this.editor),new r.default(this.editor),new w.default(this.editor),new u.default(this.editor),new w.default(this.editor),new O.default(this.editor),new E.default(this.editor),new w.default(this.editor),new _.default(this)),N){this.toolbar.push(new w.default(this.editor));for(var M=0,H=N;M<H.length;M++){var k=H[M];this.toolbar.push(k.getButton())}}this.toolbar.forEach(function(e){e.append(L.toolbarDiv)})}return e.prototype.getEditor=function(){return this.editor},e.prototype.updateState=function(e){this.toolbar.forEach(function(t){t.updateState(e)})},e.prototype.getContentDiv=function(){return this.contentDiv},e.prototype.getEditorDiv=function(){return this.editorDiv},e.prototype.getEditorWrapper=function(){return this.editorWrapperDiv},e.prototype.getWorkspace=function(){return this.workspaceDiv},e}();t.default=L},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=n(1),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.getName=function(){return"aligncenter"},t.prototype.getIcon=function(){return a.default.textCenter},t.prototype.doAction=function(){s.setAlignment(this.editor,1),this.updateState(s.getFormatState(this.editor))},t.prototype.updateState=function(e){e.alignCenter?this.span.classList.add("checked"):this.span.classList.remove("checked")},t}(i.default);t.default=l},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=n(1),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.getName=function(){return"aligncenter"},t.prototype.getIcon=function(){return a.default.textJustify},t.prototype.doAction=function(){s.setJustifyFull(this.editor),this.updateState(s.getFormatState(this.editor))},t.prototype.updateState=function(e){e.alignJustify?this.span.classList.add("checked"):this.span.classList.remove("checked")},t}(i.default);t.default=l},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=n(1),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.getName=function(){return"alignleft"},t.prototype.getIcon=function(){return a.default.textLeft},t.prototype.doAction=function(){s.setAlignment(this.editor,0),this.updateState(s.getFormatState(this.editor))},t.prototype.updateState=function(e){e.alignLeft?this.span.classList.add("checked"):this.span.classList.remove("checked")},t}(i.default);t.default=l},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=n(1),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.getName=function(){return"aligncenter"},t.prototype.getIcon=function(){return a.default.textRight},t.prototype.doAction=function(){s.setAlignment(this.editor,2),this.updateState(s.getFormatState(this.editor))},t.prototype.updateState=function(e){e.alignRight?this.span.classList.add("checked"):this.span.classList.remove("checked")},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(1),i=n(1),a=function(){function e(e){this.editor=e,this.span=this.generateElement()}return e.prototype.getName=function(){return"bold"},e.prototype.getIcon=function(){return o.default.bold},e.prototype.doAction=function(){i.toggleBold(this.editor),this.updateState(r.getFormatState(this.editor))},e.prototype.updateState=function(e){e.isBold?this.span.classList.add("checked"):this.span.classList.remove("checked")},e.prototype.append=function(e){e.appendChild(this.span)},e.prototype.generateElement=function(){var e=this,t=document.createElement("span");return t.className="btn",t.innerHTML=this.getIcon(),t.addEventListener("click",function(t){e.doAction()}),t},e}();t.default=a},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=n(1),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.getName=function(){return"bulletlist"},t.prototype.getIcon=function(){return a.default.bulletList},t.prototype.doAction=function(){s.toggleBullet(this.editor),this.updateState(s.getFormatState(this.editor))},t.prototype.updateState=function(e){e.isBullet?this.span.classList.add("checked"):this.span.classList.remove("checked")},t}(i.default);t.default=l},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=n(1),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.getName=function(){return"clearstyle"},t.prototype.getIcon=function(){return a.default.clearStyle},t.prototype.doAction=function(){s.clearFormat(this.editor);var e=this.editor.getSelection();null!=e&&e.isCollapsed&&s.clearBlockFormat(this.editor)},t.prototype.updateState=function(e){},t}(i.default);t.default=l},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=n(1),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.getName=function(){return"decreaseindent"},t.prototype.getIcon=function(){return a.default.decIndent},t.prototype.doAction=function(){s.setIndentation(this.editor,1)},t.prototype.updateState=function(e){},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=function(){function e(){}return e.prototype.getName=function(){return"EditorGuiToolbar"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null},e.prototype.getEditor=function(){return this.editor},e.prototype.setEditorGui=function(e){this.gui=e},e.prototype.onPluginEvent=function(e){if(this.gui&&this.editor&&(2==e.eventType||5==e.eventType||6==e.eventType)){var t=o.getFormatState(this.editor,e);this.gui.updateState(t)}},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(1),i=[8,9,10,11,12,14,16,18,20,22,24,36],a=function(){function e(e){this.optionsSpans=new Map,this.editor=e,this.span=this.generateElement()}return e.prototype.getName=function(){return"fontsize"},e.prototype.getIcon=function(){return o.default.fontSize},e.prototype.doAction=function(e){r.setFontSize(this.editor,e+"pt"),this.updateState(r.getFormatState(this.editor))},e.prototype.updateState=function(e){var t=this,n=parseInt(e.fontSize);this.optionsSpans.has(n)&&this.optionsSpans.get(n).classList.contains("selected")||this.optionsSpans.forEach(function(e,o){o!=n?e.classList.remove("selected"):(e.classList.add("selected"),t.spanLabel.innerHTML=o+"")})},e.prototype.append=function(e){e.appendChild(this.span)},e.prototype.generateElement=function(){var e=this,t=document.createElement("span");t.className="btn dropdown",t.innerHTML=this.getIcon(),this.spanLabel=document.createElement("span"),this.spanLabel.innerHTML="12",t.appendChild(this.spanLabel),document.addEventListener("click",function(t){var n=t.target;e.span.classList.contains("opened")&&!e.span.contains(n)&&e.span.classList.remove("opened")}),t.addEventListener("click",function(t){e.editor.focus(),e.span.classList.contains("opened")?e.span.classList.remove("opened"):e.span.classList.add("opened")});var n=document.createElement("div");return n.className="options",i.forEach(function(t){var o=document.createElement("span");o.className="option",o.setAttribute("data-size",t+""),o.innerHTML=t+"",n.appendChild(o),e.optionsSpans.set(t,o)}),n.addEventListener("click",function(t){var n=t.target;if(n&&n instanceof HTMLElement){var o=n;e.doAction(o.dataset.size)}}),t.appendChild(n),t},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(1),i={empty:{level:0,name:"Tekst",style:function(e){e.classList.add("text")}},h1:{level:1,name:"Naglowek 1",style:function(e){e.classList.add("h1")}},h2:{level:2,name:"Naglowek 2",style:function(e){e.classList.add("h2")}}},a=function(){function e(e){this.optionsSpans=new Map,this.editor=e,this.span=this.generateElement()}return e.prototype.getName=function(){return"fontsize"},e.prototype.getIcon=function(){return o.default.header},e.prototype.doAction=function(e){r.toggleHeader(this.editor,parseInt(e)),this.updateState(r.getFormatState(this.editor))},e.prototype.updateState=function(e){var t=this,n=e.headerLevel;this.optionsSpans.has(n)&&this.optionsSpans.get(n).classList.contains("selected")||(this.optionsSpans.forEach(function(e,t){t!=n?e.classList.remove("selected"):e.classList.add("selected")}),Object.keys(i).forEach(function(e){i[e].level==n&&(t.spanLabel.innerHTML=i[e].name)}))},e.prototype.append=function(e){e.appendChild(this.span)},e.prototype.generateElement=function(){var e=this,t=document.createElement("span");t.className="btn dropdown",t.innerHTML=this.getIcon(),this.spanLabel=document.createElement("span"),this.spanLabel.innerHTML=i.empty.name,t.appendChild(this.spanLabel),document.addEventListener("click",function(t){var n=t.target;e.span.classList.contains("opened")&&!e.span.contains(n)&&e.span.classList.remove("opened")}),t.addEventListener("click",function(t){e.editor.focus(),e.span.classList.contains("opened")?e.span.classList.remove("opened"):e.span.classList.add("opened")});var n=document.createElement("div");return n.className="options",Object.keys(i).forEach(function(t){var o=i[t],r=document.createElement("span");r.className="option",r.setAttribute("data-size",o.level+""),r.innerHTML=o.name,o.style(r),n.appendChild(r),e.optionsSpans.set(o.level,r)}),n.addEventListener("click",function(t){var n=t.target;if(n&&n instanceof HTMLElement){var o=n;e.doAction(o.dataset.size)}}),t.appendChild(n),t},e}();t.default=a},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=n(1),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.getName=function(){return"increaseindent"},t.prototype.getIcon=function(){return a.default.incIndent},t.prototype.doAction=function(){s.setIndentation(this.editor,0)},t.prototype.updateState=function(e){},t}(i.default);t.default=l},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=n(1),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.getName=function(){return"italic"},t.prototype.getIcon=function(){return a.default.italic},t.prototype.doAction=function(){s.toggleItalic(this.editor),this.updateState(s.getFormatState(this.editor))},t.prototype.updateState=function(e){e.isItalic?this.span.classList.add("checked"):this.span.classList.remove("checked")},t}(i.default);t.default=l},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(177),s=n(81),l=n(2),u=function(){function e(e,t){this.fields=e,this.cssClass=t}return e.prototype.getName=function(){return"MergeFields"},e.prototype.initialize=function(e){var t=this;this.editor=e,this.button=new c(this.editor.getEditor(),function(){t.sidebar.classList.contains("hidden")?(t.sidebar.classList.remove("hidden"),t.button.setChecked()):(t.sidebar.classList.add("hidden"),t.button.setUnChecked()),t.editor.getEditor().focus()}),this.dialog=s.default.div("options"),this.fields.forEach(function(e){var n=document.createElement("span");n.className="option",n.dataset.val=e,n.innerText=e,t.dialog.appendChild(n)}),this.sidebar=a.default(e,"Wstaw pole",this.dialog),this.editor.getWorkspace().appendChild(this.sidebar),this.dialog.addEventListener("click",function(e){t.dialogClick(e)})},e.prototype.dispose=function(){this.editor=null},e.prototype.dialogClick=function(e){var t=e.target;if(t&&t instanceof HTMLElement){var n=t;this.insertField(n.dataset.val)}},e.prototype.insertField=function(e){var t=this,n=this.editor.getEditor();n.isDisposed()||(n.focus(),n.addUndoSnapshot(function(){var o=document.createElement("a");o.setAttribute("href","javascript:void(0);"),o.setAttribute("data-mergefield","merge"),o.innerHTML=e,t.cssClass?o.className=t.cssClass:(o.style.backgroundColor="rgba(131, 208, 242, 0.4)",o.style.border="1px solid rgb(131, 208, 242)"),n.insertNode(o)},"Format"))},e.prototype.getEditor=function(){return this.editor},e.prototype.getButton=function(){return this.button},e}();t.default=u;var c=function(e){function t(t,n){var o=e.call(this,t)||this;return o.action=n,o}return r(t,e),t.prototype.setChecked=function(){this.span.classList.add("checked")},t.prototype.setUnChecked=function(){this.span.classList.remove("checked")},t.prototype.getName=function(){return"addmergefield"},t.prototype.getIcon=function(){return l.default.mergeField},t.prototype.doAction=function(){this.action()},t.prototype.updateState=function(e){},t}(i.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(81);t.default=function(e,t,n){return o.default.div("sidebar hidden",[o.default.div("sidebar-title",[o.default.text(t)]),o.default.div("sidebar-content",[n])])}},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=n(1),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.getName=function(){return"numlist"},t.prototype.getIcon=function(){return a.default.numList},t.prototype.doAction=function(){s.toggleNumbering(this.editor),this.updateState(s.getFormatState(this.editor))},t.prototype.updateState=function(e){e.isNumbering?this.span.classList.add("checked"):this.span.classList.remove("checked")},t}(i.default);t.default=l},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=function(){function e(e){this.cssClass=e}return e.prototype.getName=function(){return"PageBreak"},e.prototype.attachClickListener=function(){var e=this;this.editor.getEditorDiv().addEventListener("click",function(t){var n=e.editor.getEditor();if(!n.isDisposed()&&t.target&&t.target instanceof HTMLDivElement){var o=t.target;o.classList.contains("page-break")&&n.addUndoSnapshot(function(){o.parentElement.removeChild(o)})}})},e.prototype.initialize=function(e){var t=this;this.editor=e,this.attachClickListener(),this.button=new l(this.editor.getEditor(),function(){var e=t.editor.getEditor();e.isDisposed()||(e.focus(),e.addUndoSnapshot(function(){var n=e.getDocument().createElement("DIV");n.innerHTML="<br>",e.insertNode(n,{insertOnNewLine:!0,position:2});var o=e.getDocument().createElement("DIV");o.className="page-break",t.cssClass?o.classList.add(t.cssClass):(o.style.padding="5px 0",o.style.margin="10px 0",o.style.color="#666",o.style.backgroundColor="#eaeaea",o.style.fontSize="11px",o.style.fontFamily="sans-serif",o.style.width="100%",o.style.textAlign="center"),o.innerHTML="&centerdot;&centerdot;&centerdot;&centerdot;&centerdot;&centerdot;&centerdot;&centerdot;&centerdot;&centerdot; Page Break &centerdot;&centerdot;&centerdot;&centerdot;&centerdot;&centerdot;&centerdot;&centerdot;&centerdot;&centerdot;",o.setAttribute("contenteditable","false"),e.insertNode(o,{insertOnNewLine:!0,position:2})},"Format"))})},e.prototype.dispose=function(){this.editor=null},e.prototype.getEditor=function(){return this.editor},e.prototype.getButton=function(){return this.button},e}();t.default=s;var l=function(e){function t(t,n){var o=e.call(this,t)||this;return o.action=n,o}return r(t,e),t.prototype.getName=function(){return"addmergefield"},t.prototype.getIcon=function(){return a.default.pageBreak},t.prototype.doAction=function(){this.action()},t.prototype.updateState=function(e){},t}(i.default)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.getName=function(){return"redo"},t.prototype.getIcon=function(){return a.default.redo},t.prototype.doAction=function(){this.editor.redo()},t.prototype.updateState=function(e){e.canRedo?this.span.classList.remove("disabled"):this.span.classList.add("disabled")},t}(i.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.span=this.generateElement()}return e.prototype.getName=function(){return"spacer"},e.prototype.getIcon=function(){return""},e.prototype.doAction=function(){},e.prototype.updateState=function(e){},e.prototype.append=function(e){e.appendChild(this.span)},e.prototype.generateElement=function(){var e=document.createElement("span");return e.className="spacer",e.innerHTML="",e},e}();t.default=o},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=n(1),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.getName=function(){return"sup"},t.prototype.getIcon=function(){return a.default.subscript},t.prototype.doAction=function(){s.toggleSubscript(this.editor),this.updateState(s.getFormatState(this.editor))},t.prototype.updateState=function(e){e.isSubscript?this.span.classList.add("checked"):this.span.classList.remove("checked")},t}(i.default);t.default=l},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=n(1),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.getName=function(){return"sup"},t.prototype.getIcon=function(){return a.default.superscript},t.prototype.doAction=function(){s.toggleSuperscript(this.editor),this.updateState(s.getFormatState(this.editor))},t.prototype.updateState=function(e){e.isSuperscript?this.span.classList.add("checked"):this.span.classList.remove("checked")},t}(i.default);t.default=l},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=n(1),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.getName=function(){return"underline"},t.prototype.getIcon=function(){return a.default.underline},t.prototype.doAction=function(){s.toggleUnderline(this.editor),this.updateState(s.getFormatState(this.editor))},t.prototype.updateState=function(e){e.isUnderline?this.span.classList.add("checked"):this.span.classList.remove("checked")},t}(i.default);t.default=l},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.getName=function(){return"undo"},t.prototype.getIcon=function(){return a.default.undo},t.prototype.doAction=function(){this.editor.undo()},t.prototype.updateState=function(e){e.canUndo?this.span.classList.remove("disabled"):this.span.classList.add("disabled")},t}(i.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=[50,90,100,110,120,130,140,150,200],i=function(){function e(e){this.optionsSpans=new Map,this.wrapper=e.getEditorDiv(),this.editor=e.getEditor(),this.span=this.generateElement()}return e.prototype.getName=function(){return"zoom"},e.prototype.getIcon=function(){return o.default.zoom},e.prototype.doAction=function(e){var t=this,n=parseFloat(e)/100;this.wrapper.style.zoom=n+"";var o=parseInt(e);this.optionsSpans.forEach(function(n,r){r!=o?n.classList.remove("selected"):(n.classList.add("selected"),t.spanLabel.innerHTML=e+"%")})},e.prototype.updateState=function(e){},e.prototype.append=function(e){e.appendChild(this.span)},e.prototype.generateElement=function(){var e=this,t=document.createElement("span");t.className="btn dropdown",t.innerHTML=this.getIcon(),this.spanLabel=document.createElement("span"),this.spanLabel.innerHTML="100%",t.appendChild(this.spanLabel),document.addEventListener("click",function(t){var n=t.target;e.span.classList.contains("opened")&&!e.span.contains(n)&&e.span.classList.remove("opened")}),t.addEventListener("click",function(t){e.editor.focus(),e.span.classList.contains("opened")?e.span.classList.remove("opened"):e.span.classList.add("opened")});var n=document.createElement("div");return n.className="options",r.forEach(function(t){var o=document.createElement("span");o.className="option",o.setAttribute("data-size",t+""),o.innerHTML=t+"%",n.appendChild(o),e.optionsSpans.set(t,o)}),n.addEventListener("click",function(t){var n=t.target;if(n&&n instanceof HTMLElement){var o=n;e.doAction(o.dataset.size)}}),t.appendChild(n),t},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(189);t.ImageResize=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r="RoosterJsImageResizingBegin",i="RoosterJsImageResizingEnd",a=new RegExp("\x3c!--"+r+"--\x3e[\\s\\S]*(<img\\s[^>]+>)[\\s\\S]*\x3c!--"+i+"--\x3e","gim"),s=function(){function e(e,t,n,o,a){var s=this;void 0===e&&(e=10),void 0===t&&(t=10),void 0===n&&(n="#DB626C"),void 0===o&&(o=!1),void 0===a&&(a="img"),this.minWidth=e,this.minHeight=t,this.selectionBorderColor=n,this.forcePreserveRatio=o,this.resizableImageSelector=a,this.startResize=function(e){var t=s.getSelectedImage();if(s.editor&&t){s.startPageX=e.pageX,s.startPageY=e.pageY,s.startWidth=t.clientWidth,s.startHeight=t.clientHeight,s.editor.addUndoSnapshot();var n=s.editor.getDocument();n.addEventListener("mousemove",s.doResize,!0),n.addEventListener("mouseup",s.finishResize,!0),s.direction=(e.srcElement||e.target).style.cursor}s.stopEvent(e)},this.doResize=function(e){var t=s.getSelectedImage();if(s.editor&&t){var n=e.pageX-s.startPageX,o=e.pageY-s.startPageY,r=Math.max(s.startWidth+(s.isWest(s.direction)?-n:n),s.minWidth),i=Math.max(s.startHeight+(s.isNorth(s.direction)?-o:o),s.minHeight);if(s.forcePreserveRatio||e.shiftKey){var a=s.startWidth>0&&s.startHeight>0?1*s.startWidth/s.startHeight:0;a>0&&(r<i*a?r=i*a:i=r/a)}t.style.width=r+"px",t.style.height=i+"px"}s.stopEvent(e)},this.finishResize=function(e){var t=s.getSelectedImage();if(s.editor&&t){var n=s.editor.getDocument();n.removeEventListener("mousemove",s.doResize,!0),n.removeEventListener("mouseup",s.finishResize,!0);var o=t.clientWidth,r=t.clientHeight;t.style.width=o+"px",t.style.height=r+"px",t.width=o,t.height=r,s.resizeDiv.style.width="",s.resizeDiv.style.height=""}s.direction=null,s.editor.addUndoSnapshot(),s.editor.triggerContentChangedEvent("ImageResize"),s.stopEvent(e)},this.stopEvent=function(e){e.stopPropagation(),e.preventDefault()},this.removeResizeDivIfAny=function(e){var t=e&&e.parentNode,n=t&&t.previousSibling,o=t&&t.nextSibling;n&&8==n.nodeType&&n.nodeValue==r&&o&&8==o.nodeType&&o.nodeValue==i&&(t.parentNode.insertBefore(e,t),s.removeResizeDiv(t))},this.onBlur=function(e){s.hideResizeHandle()},this.onDragStart=function(e){(e.srcElement||e.target)==s.getSelectedImage()&&s.hideResizeHandle(!0)}}return e.prototype.getName=function(){return"ImageResize"},e.prototype.initialize=function(e){this.editor=e,this.disposer=e.addDomEventHandler({dragstart:this.onDragStart,blur:this.onBlur})},e.prototype.dispose=function(){this.resizeDiv&&this.hideResizeHandle(),this.disposer(),this.disposer=null,this.editor=null},e.prototype.onPluginEvent=function(e){var t=this;if(4==e.eventType){var n=e.rawEvent,r=n.srcElement||n.target;if("IMG"==o.getTagOfNode(r)){var i=r.parentNode;if((i?[].slice.call(i.querySelectorAll(this.resizableImageSelector)):[]).indexOf(r)<0)return;r.contentEditable="false";var a=this.getSelectedImage();a&&a!=r&&this.hideResizeHandle(),this.resizeDiv||this.showResizeHandle(r)}else this.resizeDiv&&!o.contains(this.resizeDiv,r)&&this.hideResizeHandle()}else if(0==e.eventType&&this.resizeDiv){var s=e.rawEvent;46==s.which||8==s.which?(this.editor.addUndoSnapshot(function(){t.removeResizeDiv(t.resizeDiv)}),this.resizeDiv=null,s.preventDefault(),this.resizeDiv=null):16!=s.which&&17!=s.which&&18!=s.which&&this.hideResizeHandle(!0)}else if(6==e.eventType&&"ImageResize"!=e.source)this.editor.queryElements("img",this.removeResizeDivIfAny),this.resizeDiv=null;else if(7==e.eventType){var l=e;l.content=this.extractHtml(l.content)}},e.prototype.showResizeHandle=function(e){this.resizeDiv=this.createResizeDiv(e),e.contentEditable="false",this.editor.select(this.resizeDiv,-3)},e.prototype.hideResizeHandle=function(e){var t=this.getSelectedImage(),n=this.resizeDiv&&this.resizeDiv.parentNode;if(n){if(t){t.removeAttribute("contentEditable");var o=this.resizeDiv.previousSibling&&8==this.resizeDiv.previousSibling.nodeType?this.resizeDiv.previousSibling:this.resizeDiv;n.insertBefore(t,o),e?this.editor.select(t):this.editor.select(t,-3)}this.removeResizeDiv(this.resizeDiv),this.resizeDiv=null}},e.prototype.createResizeDiv=function(e){var t=this,n=this.editor.getDocument(),o=n.createElement("DIV"),a=e.parentNode;a.insertBefore(o,e),a.insertBefore(n.createComment(r),o),a.insertBefore(n.createComment(i),o.nextSibling),o.style.position="relative",o.style.display="inline-flex",o.contentEditable="false",o.addEventListener("click",this.stopEvent),o.appendChild(e),["nw","ne","sw","se"].forEach(function(e){var r=n.createElement("DIV");o.appendChild(r),r.style.position="absolute",r.style.width="7px",r.style.height="7px",r.style.backgroundColor=t.selectionBorderColor,r.style.cursor=e+"-resize",t.isNorth(e)?r.style.top="-3px":r.style.bottom="-3px",t.isWest(e)?r.style.left="-3px":r.style.right="-3px",r.addEventListener("mousedown",t.startResize)});var s=n.createElement("DIV");return o.appendChild(s),s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.right="0",s.style.bottom="0",s.style.border="solid 1px "+this.selectionBorderColor,s.style.pointerEvents="none",o},e.prototype.removeResizeDiv=function(e){var t=this;this.editor&&this.editor.contains(e)&&([e.previousSibling,e.nextSibling].forEach(function(e){e&&8==e.nodeType&&t.editor.deleteNode(e)}),this.editor.deleteNode(e))},e.prototype.extractHtml=function(e){return e.replace(a,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[1].replace(/(\s*contenteditable="false"(\/?>)|contenteditable="false"\s*)/im,"$2")})},e.prototype.getSelectedImage=function(){return this.resizeDiv?this.resizeDiv.getElementsByTagName("IMG")[0]:null},e.prototype.isNorth=function(e){return e&&"n"==e.substr(0,1)},e.prototype.isWest=function(e){return e&&"w"==e.substr(1,1)},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(191);t.PickerPlugin=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(4),a=o.Browser.isIE?"Esc":"Escape",s=o.Browser.isIE?"Left":"ArrowLeft",l=o.Browser.isIE?"Up":"ArrowUp",u=o.Browser.isIE?"Right":"ArrowRight",c=o.Browser.isIE?"Down":"ArrowDown",d=o.Browser.isIE?"Del":"Delete",f=function(){function e(e,t){this.dataProvider=e,this.pickerOptions=t,this.isPendingInputEventHandling=!1}return e.prototype.getName=function(){return"Picker"},e.prototype.initialize=function(e){var t=this;this.editor=e,this.dataProvider.onInitalize(function(e){t.editor.focus();var n=t.getWord(null);n&&0!=n.length||!t.lastKnownRange||(t.editor.select(t.lastKnownRange),n=t.getWord(null));var o=function(){n?r.replaceWithNode(t.editor,n,e,!0):t.editor.insertNode(e),t.setIsSuggesting(!1)};t.pickerOptions.handleAutoComplete?t.editor.performAutoComplete(o,t.pickerOptions.changeSource):t.editor.addUndoSnapshot(o,t.pickerOptions.changeSource)},function(e){t.setIsSuggesting(e)},e)},e.prototype.dispose=function(){this.editor=null,this.dataProvider.onDispose()},e.prototype.willHandleEventExclusively=function(e){return this.isSuggesting&&(0==e.eventType||2==e.eventType||11==e.eventType)},e.prototype.onPluginEvent=function(e){switch(e.eventType){case 6:if("SetContent"==e.source&&this.dataProvider.onContentChanged){this.isSuggesting&&this.setIsSuggesting(!1);var t=[];this.editor.queryElements("[id^='"+this.pickerOptions.elementIdPrefix+"']",function(e){e.id&&t.push(e.id)}),this.dataProvider.onContentChanged(t)}break;case 0:this.eventHandledOnKeyDown=!1,"Unidentified"==e.rawEvent.key?(this.currentInputLength=this.calcInputLength(e),this.isPendingInputEventHandling=!0):(this.onKeyDownEvent(e),this.isPendingInputEventHandling=!1);break;case 11:this.isPendingInputEventHandling&&this.onAndroidInputEvent(e);break;case 2:!this.eventHandledOnKeyDown&&this.shouldHandleKeyUpEvent(e)&&(this.onKeyUpDomEvent(e),this.isPendingInputEventHandling=!1);break;case 5:this.isSuggesting&&this.setIsSuggesting(!1);break;case 14:this.dataProvider.onScroll&&this.dataProvider.onScroll(e.scrollContainer)}},e.prototype.setLastKnownRange=function(e){this.lastKnownRange=e},e.prototype.setIsSuggesting=function(e){this.isSuggesting=e,e||this.setLastKnownRange(null),this.dataProvider.onIsSuggestingChanged(e),this.setAriaOwns(e),this.setAriaActiveDescendant(e?0:null)},e.prototype.cancelDefaultKeyDownEvent=function(e){this.eventHandledOnKeyDown=!0,e.rawEvent.preventDefault(),e.rawEvent.stopImmediatePropagation()},e.prototype.getIdValue=function(e){var t=e;return t.attributes&&t.attributes.getNamedItem("id")?t.attributes.getNamedItem("id").value:null},e.prototype.getWordBeforeCursor=function(e){var t=i.cacheGetContentSearcher(e,this.editor);return t?t.getWordBefore():null},e.prototype.replaceNode=function(e,t){e&&this.editor.deleteNode(e),t&&this.editor.insertNode(t)},e.prototype.getRangeUntilAt=function(e){var t,n,r=this;return i.cacheGetContentSearcher(e,this.editor).forEachTextInlineElement(function(e){for(var o=!1,i=e.getTextContent(),a=i?i.length:-1;a>=0;){if(i[a]==r.pickerOptions.triggerCharacter){t=e.getStartPosition().move(a),o=!0;break}a--}return o&&(n=e.getEndPosition()),o}),o.createRange(t,n)||this.editor.getDocument().createRange()},e.prototype.shouldHandleKeyUpEvent=function(e){return"Unidentified"==e.rawEvent.key||i.isCharacterValue(e.rawEvent)||this.isSuggesting&&!i.isModifierKey(e.rawEvent)},e.prototype.onKeyUpDomEvent=function(e){if(this.isSuggesting){var t=(o=(n=this.getWord(e)).substring(1)).trim();n==this.pickerOptions.triggerCharacter||t&&t.length>0&&t.split(" ").length<=4?(this.dataProvider.queryStringUpdated(t,o==t),this.setLastKnownRange(this.editor.getSelectionRange())):this.setIsSuggesting(!1)}else{var n=this.getWordBeforeCursor(e);if(this.blockSuggestions)null!=n&&n[0]!=this.pickerOptions.triggerCharacter&&(this.blockSuggestions=!1);else if(null!=n&&n.split(" ").length<=4&&n[0]==this.pickerOptions.triggerCharacter){this.setIsSuggesting(!0);var o;t=(o=n.substring(1)).trim();if(this.dataProvider.queryStringUpdated(t,o==t),this.setLastKnownRange(this.editor.getSelectionRange()),this.dataProvider.setCursorPoint){var r=i.cacheGetContentSearcher(e,this.editor),a=this.editor.getDocument().createRange(),s=r.getInlineElementBefore().getContainerNode();if(!this.setRangeStart(a,s,n)){var l=s.previousSibling;this.setRangeStart(a,l,this.pickerOptions.triggerCharacter)}var u=a.getBoundingClientRect();if(0==u.left&&0==u.bottom&&0==u.top&&(u=a.getClientRects()[0]),u){a.detach();var c={x:u.left,y:(u.bottom+u.top)/2},d=(u.bottom-u.top)/2;this.dataProvider.setCursorPoint(c,d)}}}}},e.prototype.onKeyDownEvent=function(e){var t=e.rawEvent;if(this.isSuggesting)t.key==a?(this.setIsSuggesting(!1),this.blockSuggestions=!0,this.cancelDefaultKeyDownEvent(e)):this.dataProvider.shiftHighlight&&(this.pickerOptions.isHorizontal?t.key==s||t.key==u:t.key==l||t.key==c)?(this.dataProvider.shiftHighlight(this.pickerOptions.isHorizontal?t.key==u:t.key==c),this.dataProvider.getSelectedIndex&&this.setAriaActiveDescendant(this.dataProvider.getSelectedIndex()),this.cancelDefaultKeyDownEvent(e)):!this.dataProvider.selectOption||"Enter"!=t.key&&"Tab"!=t.key||(this.dataProvider.selectOption(),this.cancelDefaultKeyDownEvent(e));else if("Backspace"==t.key)this.tryRemoveNode(e)&&this.cancelDefaultKeyDownEvent(e);else if(t.key==d){var n=i.cacheGetContentSearcher(e,this.editor),o=n.getInlineElementAfter()?n.getInlineElementAfter().getContainerNode():null,r=o?this.getIdValue(o):null;if(r&&0==r.indexOf(this.pickerOptions.elementIdPrefix)){var f=this.dataProvider.onRemove(o,!1);this.replaceNode(o,f),this.cancelDefaultKeyDownEvent(e)}}},e.prototype.onAndroidInputEvent=function(e){(this.newInputLength=this.calcInputLength(e),this.newInputLength<this.currentInputLength||"deleteContentBackwards"===e.rawEvent.inputType)&&(this.tryRemoveNode(e)&&(this.eventHandledOnKeyDown=!0))},e.prototype.calcInputLength=function(e){var t=this.getInlineElementBeforeCursor(e);return t?t.length:0},e.prototype.tryRemoveNode=function(e){var t=this,n=i.cacheGetContentSearcher(e,this.editor),r=n.getInlineElementBefore(),a=r?r.getContainerNode():null,s=a?this.getIdValue(a):null,l=n.getInlineElementAfter();if(s&&0==s.indexOf(this.pickerOptions.elementIdPrefix)&&(null==l||!(l instanceof o.PartialInlineElement))){var u=this.dataProvider.onRemove(a,!0);return u?(this.replaceNode(a,u),this.isPendingInputEventHandling?this.editor.runAsync(function(){t.editor.select(u,-3)}):this.editor.select(u,-3)):this.editor.deleteNode(a),!0}return!1},e.prototype.getWord=function(e){var t=this.getRangeUntilAt(e).toString(),n=this.getWordBeforeCursor(e);return t==this.pickerOptions.triggerCharacter&&t!=n?n:t},e.prototype.setRangeStart=function(e,t,n){var o=t?t.textContent.lastIndexOf(n):-1;return o>-1&&(e.setStart(t,o),!0)},e.prototype.setAriaOwns=function(e){this.editor.setEditorDomAttribute("aria-owns",e&&this.pickerOptions.suggestionsLabel?this.pickerOptions.suggestionsLabel:null)},e.prototype.setAriaActiveDescendant=function(e){this.editor.setEditorDomAttribute("aria-activedescendant",null!=e&&this.pickerOptions.suggestionLabelPrefix?this.pickerOptions.suggestionLabelPrefix+e.toString():null)},e.prototype.getInlineElementBeforeCursor=function(e){var t=i.cacheGetContentSearcher(e,this.editor),n=t?t.getInlineElementBefore():null;return n?n.getTextContent():null},e}();t.default=f}]);
//# sourceMappingURL=rooster-min.js.map